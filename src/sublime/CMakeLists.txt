include_directories(${CMAKE_SOURCE_DIR}/lib)

add_subdirectory(examples)
add_subdirectory(test)

########### next target ###############

set(sublime_LIB_SRCS
    area.cpp
    areaindex.cpp
    container.cpp
    controller.cpp
    document.cpp
    mainwindow.cpp
    mainwindow_p.cpp
    mainwindowoperator.cpp
    urldocument.cpp
    switcher.cpp
    tooldocument.cpp
    view.cpp
    view_p.cpp
    viewcreator.cpp
    viewwidgetcreator.cpp
    sublimedefs.cpp
)

kde4_automoc(${sublime_LIB_SRCS})
kde4_add_library(sublime SHARED ${sublime_LIB_SRCS})
target_link_libraries(sublime ${KDE4_KDEUI_LIBS} ${KDE4_KPARTS_LIBS})
set_target_properties(sublime PROPERTIES VERSION 4.0.0 SOVERSION 4)
install(TARGETS sublime DESTINATION ${LIB_INSTALL_DIR} )


########### install files ###############

install(FILES
    area.h
    areaindex.h
    areawalkers.h
    container.h
    controller.h
    document.h
    mainwindow.h
    mainwindowoperator.h
    urldocument.h
    sublimedefs.h
    sublimeexport.h
    switcher.h
    tooldocument.h
    view.h
    viewcreator.h
    viewwidgetcreator.h
    DESTINATION ${INCLUDE_INSTALL_DIR}/kdevplatform/sublime )
