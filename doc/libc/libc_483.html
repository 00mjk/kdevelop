<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Argp Option Vectors</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_482.html">previous</A>, <A HREF="libc_484.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC491" HREF="libc_toc.html#TOC491">Specifying Options in an Argp Parser</A></H3>

<P>
The <CODE>options</CODE> field in a <CODE>struct argp</CODE> points to a vector of
<CODE>struct argp_option</CODE> structures, each of which specifies an option
that argp parser supports (actually, sometimes multiple entries may used
for a single option if it has many names).  It should be terminated by
an entry with zero in all fields (note that when using an initialized C
array for options, writing <CODE>{ 0 }</CODE> is enough to achieve this).

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>struct argp_option</B>
<DD><A NAME="IDX2651"></A>
This structure specifies a single option that an argp parser
understands, and how to parse and document it.  It has the following fields:

</P>
<DL COMPACT>

<DT><CODE>const char *name</CODE>
<DD>
The long name for this option, corresponding to the long option
<SAMP>`--<VAR>name</VAR>'</SAMP>; this field can be zero if this option only has a
short name.  To specify multiple names for an option, additional entries
may follow this one, with the <CODE>OPTION_ALIAS</CODE> flag set (see section <A HREF="libc_484.html#SEC492">Flags for Argp Options</A>).

<DT><CODE>int key</CODE>
<DD>
The integer key that is provided to the argp parser's parsing function
when this option is being parsed.  Also, if <VAR>key</VAR> has a value that
is a printable ASCII character (i.e., <CODE>isascii (<VAR>key</VAR>)</CODE> is
true), it <EM>also</EM> specifies a short option <SAMP>`-<VAR>char</VAR>'</SAMP>, where
<VAR>char</VAR> is the ASCII character with the code <VAR>key</VAR>.

<DT><CODE>const char *arg</CODE>
<DD>
If non-zero, this is the name of an argument associated with this
option, which must be provided (e.g., with the
<SAMP>`--<VAR>name</VAR>=<VAR>value</VAR>'</SAMP> or <SAMP>`-<VAR>char</VAR> <VAR>value</VAR>'</SAMP>
syntaxes) unless the <CODE>OPTION_ARG_OPTIONAL</CODE> flag (see section <A HREF="libc_484.html#SEC492">Flags for Argp Options</A>) is set, in which case it <EM>may</EM> be provided.

<DT><CODE>int flags</CODE>
<DD>
Flags associated with this option (some of which are referred to above).
See section <A HREF="libc_484.html#SEC492">Flags for Argp Options</A>.

<DT><CODE>const char *doc</CODE>
<DD>
A documentation string for this option, for printing in help messages.

If both the <CODE>name</CODE> and <CODE>key</CODE> fields are zero, this string
will be printed out-dented from the normal option column, making it
useful as a group header (it will be the first thing printed in its
group); in this usage, it's conventional to end the string with a
<SAMP>`:'</SAMP> character.

<DT><CODE>int group</CODE>
<DD>
The group this option is in.

In a long help message, options are sorted alphabetically within each
group, and the groups presented in the order 0, 1, 2, ..., <VAR>n</VAR>,
-<VAR>m</VAR>, ..., -2, -1.  Every entry in an
options array with this
field 0 will inherit the group number of the previous entry, or zero if
it's the first one, unless its a group header (<CODE>name</CODE> and
<CODE>key</CODE> fields both zero), in which case, the previous entry + 1 is
the default.  Automagic options such as <SAMP>`--help'</SAMP> are put into group
-1.

Note that because of C structure initialization rules, this field
often need not be specified, because 0 is the right value.
</DL>
</DL>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_482.html">previous</A>, <A HREF="libc_484.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
