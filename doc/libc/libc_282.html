<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Address Formats</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_281.html">previous</A>, <A HREF="libc_283.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC289" HREF="libc_toc.html#TOC289">Address Formats</A></H3>

<P>
The functions <CODE>bind</CODE> and <CODE>getsockname</CODE> use the generic data
type <CODE>struct sockaddr *</CODE> to represent a pointer to a socket
address.  You can't use this data type effectively to interpret an
address or construct one; for that, you must use the proper data type
for the socket's namespace.

</P>
<P>
Thus, the usual practice is to construct an address in the proper
namespace-specific type, then cast a pointer to <CODE>struct sockaddr *</CODE>
when you call <CODE>bind</CODE> or <CODE>getsockname</CODE>.

</P>
<P>
The one piece of information that you can get from the <CODE>struct
sockaddr</CODE> data type is the <STRONG>address format</STRONG> designator which tells
you which data type to use to understand the address fully.

</P>
<P>
<A NAME="IDX1409"></A>
The symbols in this section are defined in the header file
<TT>`sys/socket.h'</TT>.

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>struct sockaddr</B>
<DD><A NAME="IDX1410"></A>
The <CODE>struct sockaddr</CODE> type itself has the following members:

</P>
<DL COMPACT>

<DT><CODE>short int sa_family</CODE>
<DD>
This is the code for the address format of this address.  It
identifies the format of the data which follows.

<DT><CODE>char sa_data[14]</CODE>
<DD>
This is the actual socket address data, which is format-dependent.  Its
length also depends on the format, and may well be more than 14.  The
length 14 of <CODE>sa_data</CODE> is essentially arbitrary.
</DL>
</DL>

<P>
Each address format has a symbolic name which starts with <SAMP>`AF_'</SAMP>.
Each of them corresponds to a <SAMP>`PF_'</SAMP> symbol which designates the
corresponding namespace.  Here is a list of address format names:

</P>
<DL COMPACT>

<DT><CODE>AF_LOCAL</CODE>
<DD>
<A NAME="IDX1411"></A>
This designates the address format that goes with the local namespace.
(<CODE>PF_LOCAL</CODE> is the name of that namespace.)  See section <A HREF="libc_288.html#SEC295">Details of Local Namespace</A>, for information about this address format.

<DT><CODE>AF_UNIX</CODE>
<DD>
<A NAME="IDX1412"></A>
This is a synonym for <CODE>AF_LOCAL</CODE>, for compatibility.
(<CODE>PF_UNIX</CODE> is likewise a synonym for <CODE>PF_LOCAL</CODE>.)

<DT><CODE>AF_FILE</CODE>
<DD>
<A NAME="IDX1413"></A>
This is another synonym for <CODE>AF_LOCAL</CODE>, for compatibility.
(<CODE>PF_FILE</CODE> is likewise a synonym for <CODE>PF_LOCAL</CODE>.)

<DT><CODE>AF_INET</CODE>
<DD>
<A NAME="IDX1414"></A>
This designates the address format that goes with the Internet
namespace.  (<CODE>PF_INET</CODE> is the name of that namespace.)
See section <A HREF="libc_291.html#SEC298">Internet Socket Address Formats</A>.

<DT><CODE>AF_INET6</CODE>
<DD>
This is similar to <CODE>AF_INET</CODE>, but refers to the IPv6 protocol.
(<CODE>PF_INET6</CODE> is the name of the corresponding namespace.)

<DT><CODE>AF_UNSPEC</CODE>
<DD>
<A NAME="IDX1415"></A>
This designates no particular address format.  It is used only in rare
cases, such as to clear out the default destination address of a
"connected" datagram socket.  See section <A HREF="libc_320.html#SEC327">Sending Datagrams</A>.

The corresponding namespace designator symbol <CODE>PF_UNSPEC</CODE> exists
for completeness, but there is no reason to use it in a program.
</DL>

<P>
<TT>`sys/socket.h'</TT> defines symbols starting with <SAMP>`AF_'</SAMP> for many
different kinds of networks, all or most of which are not actually
implemented.  We will document those that really work, as we receive
information about how to use them.

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_281.html">previous</A>, <A HREF="libc_283.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
