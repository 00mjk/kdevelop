<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Argp Parsers</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_481.html">previous</A>, <A HREF="libc_483.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC490" HREF="libc_toc.html#TOC490">Specifying Argp Parsers</A></H3>

<P>
The first argument to the <CODE>argp_parse</CODE> function is a pointer to a
<CODE>struct argp</CODE>, which known as an <STRONG>argp parser</STRONG>:

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>struct argp</B>
<DD><A NAME="IDX2650"></A>
This structure specifies how to parse a given set of options and
arguments, perhaps in conjunction with other argp parsers.  It has the
following fields:

</P>
<DL COMPACT>

<DT><CODE>const struct argp_option *options</CODE>
<DD>
A pointer to a vector of <CODE>argp_option</CODE> structures specifying which
options this argp parser understands; it may be zero if there are no
options at all.  See section <A HREF="libc_483.html#SEC491">Specifying Options in an Argp Parser</A>.

<DT><CODE>argp_parser_t parser</CODE>
<DD>
A pointer to a function that defines actions for this parser; it is
called for each option parsed, and at other well-defined points in the
parsing process.  A value of zero is the same as a pointer to a
function that always returns <CODE>ARGP_ERR_UNKNOWN</CODE>.
See section <A HREF="libc_485.html#SEC493">Argp Parser Functions</A>.

<DT><CODE>const char *args_doc</CODE>
<DD>
If non-zero, a string describing what non-option arguments are wanted by
this parser; it is only used to print the <SAMP>`Usage:'</SAMP> message.  If it
contains newlines, the strings separated by them are considered
alternative usage patterns, and printed on separate lines (lines after
the first are prefix by <SAMP>` or: '</SAMP> instead of <SAMP>`Usage:'</SAMP>).

<DT><CODE>const char *doc</CODE>
<DD>
If non-zero, a string containing extra text to be printed before and
after the options in a long help message, with the two sections
separated by a vertical tab (<CODE>'\v'</CODE>, <CODE>'\013'</CODE>) character.  By
convention, the documentation before the options is just a short string
saying what the program does, and that afterwards is longer, describing
the behavior in more detail.

<DT><CODE>const struct argp_child *children</CODE>
<DD>
A pointer to a vector of <CODE>argp_children</CODE> structures specifying
additional argp parsers that should be combined with this one.
See section <A HREF="libc_489.html#SEC497">Combining Multiple Argp Parsers</A>.

<DT><CODE>char *(*help_filter)(int <VAR>key</VAR>, const char *<VAR>text</VAR>, void *<VAR>input</VAR>)</CODE>
<DD>
If non-zero, a pointer to a function to filter the output of help
messages.  See section <A HREF="libc_491.html#SEC499">Customizing Argp Help Output</A>.
</DL>
</DL>

<P>
The <CODE>options</CODE>, <CODE>parser</CODE>, <CODE>args_doc</CODE>, and <CODE>doc</CODE>
fields are usually all that are needed.  If an argp parser is defined as
an initialized C variable, only the used fields need be specified in
the initializer--the rest will default to zero due to the way C
structure initialization works (this fact is exploited for most argp
structures, grouping the most-used fields near the beginning, so that
unused fields can simply be left unspecified).

</P>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_481.html">previous</A>, <A HREF="libc_483.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
