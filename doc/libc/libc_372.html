<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Infinity and NaN</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_371.html">previous</A>, <A HREF="libc_373.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC379" HREF="libc_toc.html#TOC379">Infinity and NaN</A></H3>
<P>
<A NAME="IDX2064"></A>
<A NAME="IDX2065"></A>
<A NAME="IDX2066"></A>

</P>
<P>
IEEE 754 floating point numbers can represent positive or negative
infinity, and <STRONG>NaN</STRONG> (not a number).  These three values arise from
calculations whose result is undefined or cannot be represented
accurately.  You can also deliberately set a floating-point variable to
any of them, which is sometimes useful.  Some examples of calculations
that produce infinity or NaN:

</P>
<P>
@ifnottex

<PRE>
@math{1/0 = @infinity{}}
@math{log (0) = -@infinity{}}
@math{sqrt (-1) = NaN}
</PRE>

<P>
When a calculation produces any of these values, an exception also
occurs; see section <A HREF="libc_371.html#SEC378">FP Exceptions</A>.

</P>
<P>
The basic operations and math functions all accept infinity and NaN and
produce sensible output.  Infinities propagate through calculations as
one would expect: for example, @math{2 + @infinity{} = @infinity{}},
@math{4/@infinity{} = 0}, atan @math{(@infinity{}) = @pi{}/2}.  NaN, on
the other hand, infects any calculation that involves it.  Unless the
calculation would produce the same result no matter what real value
replaced NaN, the result is NaN.

</P>
<P>
In comparison operations, positive infinity is larger than all values
except itself and NaN, and negative infinity is smaller than all values
except itself and NaN.  NaN is <STRONG>unordered</STRONG>: it is not equal to,
greater than, or less than anything, <EM>including itself</EM>. <CODE>x ==
x</CODE> is false if the value of <CODE>x</CODE> is NaN.  You can use this to test
whether a value is NaN or not, but the recommended way to test for NaN
is with the <CODE>isnan</CODE> function (see section <A HREF="libc_369.html#SEC376">Floating-Point Number Classification Functions</A>).  In
addition, <CODE>&#60;</CODE>, <CODE>&#62;</CODE>, <CODE>&#60;=</CODE>, and <CODE>&#62;=</CODE> will raise an
exception when applied to NaNs.

</P>
<P>
<TT>`math.h'</TT> defines macros that allow you to explicitly set a variable
to infinity or NaN.

</P>
<P>
<DL>
<DT><U>Macro:</U> float <B>INFINITY</B>
<DD><A NAME="IDX2067"></A>
An expression representing positive infinity.  It is equal to the value
produced  by mathematical operations like <CODE>1.0 / 0.0</CODE>.
<CODE>-INFINITY</CODE> represents negative infinity.

</P>
<P>
You can test whether a floating-point value is infinite by comparing it
to this macro.  However, this is not recommended; you should use the
<CODE>isfinite</CODE> macro instead.  See section <A HREF="libc_369.html#SEC376">Floating-Point Number Classification Functions</A>.

</P>
<P>
This macro was introduced in the ISO C 9X standard.
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> float <B>NAN</B>
<DD><A NAME="IDX2068"></A>
An expression representing a value which is "not a number".  This
macro is a GNU extension, available only on machines that support the
"not a number" value--that is to say, on all machines that support
IEEE floating point.

</P>
<P>
You can use <SAMP>`#ifdef NAN'</SAMP> to test whether the machine supports
NaN.  (Of course, you must arrange for GNU extensions to be visible,
such as by defining <CODE>_GNU_SOURCE</CODE>, and then you must include
<TT>`math.h'</TT>.)
</DL>

</P>
<P>
IEEE 754 also allows for another unusual value: negative zero.  This
value is produced when you divide a positive number by negative
infinity, or when a negative result is smaller than the limits of
representation.  Negative zero behaves identically to zero in all
calculations, unless you explicitly test the sign bit with
<CODE>signbit</CODE> or <CODE>copysign</CODE>.

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_371.html">previous</A>, <A HREF="libc_373.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
