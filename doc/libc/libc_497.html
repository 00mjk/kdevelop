<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Argp Example 2</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_496.html">previous</A>, <A HREF="libc_498.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H4><A NAME="SEC505" HREF="libc_toc.html#TOC505">A Program Using Argp with Only Default Options</A></H4>

<P>
This program doesn't use any options or arguments, but uses argp to be
compliant with the GNU standard command line format.

</P>
<P>
In addition to making sure no arguments are given, and implementing a
<SAMP>`--help'</SAMP> option, this example will have a <SAMP>`--version'</SAMP> option,
and will put the given documentation string and bug address in the
<SAMP>`--help'</SAMP> output, as per GNU standards.

</P>
<P>
The variable <CODE>argp</CODE> contains the argument parser specification;
adding fields to this structure is the way most parameters are passed to
<CODE>argp_parse</CODE> (the first three fields are usually used, but not in
this small program).  There are also two global variables that argp
knows about defined here, <CODE>argp_program_version</CODE> and
<CODE>argp_program_bug_address</CODE> (they are global variables because they
will almost always be constant for a given program, even if it uses
different argument parsers for various tasks).

</P>

<PRE>
/* Argp example #2 -- a pretty minimal program using argp */

/* This program doesn't use any options or arguments, but uses
   argp to be compliant with the GNU standard command line
   format.

   In addition to making sure no arguments are given, and
   implementing a --help option, this example will have a
   --version option, and will put the given documentation string
   and bug address in the --help output, as per GNU standards.

   The variable ARGP contains the argument parser specification;
   adding fields to this structure is the way most parameters are
   passed to argp_parse (the first three fields are usually used,
   but not in this small program).  There are also two global
   variables that argp knows about defined here,
   ARGP_PROGRAM_VERSION and ARGP_PROGRAM_BUG_ADDRESS (they are
   global variables becuase they will almost always be constant
   for a given program, even if it uses different argument
   parsers for various tasks). */

#include &#60;argp.h&#62;

const char *argp_program_version =
  "argp-ex2 1.0";
const char *argp_program_bug_address =
  "&#60;bug-gnu-utils@gnu.org&#62;";

/* Program documentation. */
static char doc[] =
  "Argp example #2 -- a pretty minimal program using argp";

/* Our argument parser.  The <CODE>options</CODE>, <CODE>parser</CODE>, and
   <CODE>args_doc</CODE> fields are zero because we have neither options or
   arguments; <CODE>doc</CODE> and <CODE>argp_program_bug_address</CODE> will be
   used in the output for <SAMP>`--help'</SAMP>, and the <SAMP>`--version'</SAMP>
   option will print out <CODE>argp_program_version</CODE>. */
static struct argp argp = { 0, 0, 0, doc };

int main (int argc, char **argv)
{
  argp_parse (&#38;argp, argc, argv, 0, 0, 0);
  exit (0);
}
</PRE>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_496.html">previous</A>, <A HREF="libc_498.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
