<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Argp Help Filtering</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_490.html">previous</A>, <A HREF="libc_492.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC499" HREF="libc_toc.html#TOC499">Customizing Argp Help Output</A></H3>

<P>
The <CODE>help_filter</CODE> field in a <CODE>struct argp</CODE> is a pointer to a
function to filter the text of help messages before displaying them.
They have a function signature like:

</P>

<PRE>
char *<VAR>help-filter</VAR> (int <VAR>key</VAR>, const char *<VAR>text</VAR>, void *<VAR>input</VAR>)
</PRE>

<P>
where <VAR>key</VAR> is either a key from an option, in which case <VAR>text</VAR>
is that option's help text (see section <A HREF="libc_483.html#SEC491">Specifying Options in an Argp Parser</A>), or one of the
special keys with names beginning with <SAMP>`ARGP_KEY_HELP_'</SAMP>, describing
which other help text <VAR>text</VAR> is (see section <A HREF="libc_492.html#SEC500">Special Keys for Argp Help Filter Functions</A>).

</P>
<P>
The function should return either <VAR>text</VAR>, if it should be used
as-is, a replacement string, which should be allocated using
<CODE>malloc</CODE>, and will be freed by argp, or zero, meaning `print
nothing'.  The value of <VAR>text</VAR> supplied is <EM>after</EM> any
translation has been done, so if any of the replacement text also needs
translation, that should be done by the filter function.  <VAR>input</VAR> is
either the input supplied to <CODE>argp_parse</CODE>, or zero, if
<CODE>argp_help</CODE> was called directly by the user.

</P>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_490.html">previous</A>, <A HREF="libc_492.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
