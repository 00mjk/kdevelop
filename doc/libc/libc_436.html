<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Flags for Sigaction</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_435.html">previous</A>, <A HREF="libc_437.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC443" HREF="libc_toc.html#TOC443">Flags for <CODE>sigaction</CODE></A></H3>
<P>
<A NAME="IDX2535"></A>
<A NAME="IDX2536"></A>
<A NAME="IDX2537"></A>

</P>
<P>
The <CODE>sa_flags</CODE> member of the <CODE>sigaction</CODE> structure is a
catch-all for special features.  Most of the time, <CODE>SA_RESTART</CODE> is
a good value to use for this field.

</P>
<P>
The value of <CODE>sa_flags</CODE> is interpreted as a bit mask.  Thus, you
should choose the flags you want to set, OR those flags together,
and store the result in the <CODE>sa_flags</CODE> member of your
<CODE>sigaction</CODE> structure.

</P>
<P>
Each signal number has its own set of flags.  Each call to
<CODE>sigaction</CODE> affects one particular signal number, and the flags
that you specify apply only to that particular signal.

</P>
<P>
In the GNU C library, establishing a handler with <CODE>signal</CODE> sets all
the flags to zero except for <CODE>SA_RESTART</CODE>, whose value depends on
the settings you have made with <CODE>siginterrupt</CODE>.  See section <A HREF="libc_449.html#SEC456">Primitives Interrupted by Signals</A>, to see what this is about.

</P>
<P>
<A NAME="IDX2538"></A>
These macros are defined in the header file <TT>`signal.h'</TT>.

</P>
<P>
<DL>
<DT><U>Macro:</U> int <B>SA_NOCLDSTOP</B>
<DD><A NAME="IDX2539"></A>
This flag is meaningful only for the <CODE>SIGCHLD</CODE> signal.  When the
flag is set, the system delivers the signal for a terminated child
process but not for one that is stopped.  By default, <CODE>SIGCHLD</CODE> is
delivered for both terminated children and stopped children.

</P>
<P>
Setting this flag for a signal other than <CODE>SIGCHLD</CODE> has no effect.
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> int <B>SA_ONSTACK</B>
<DD><A NAME="IDX2540"></A>
If this flag is set for a particular signal number, the system uses the
signal stack when delivering that kind of signal.  See section <A HREF="libc_467.html#SEC474">Using a Separate Signal Stack</A>.
If a signal with this flag arrives and you have not set a signal stack,
the system terminates the program with <CODE>SIGILL</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> int <B>SA_RESTART</B>
<DD><A NAME="IDX2541"></A>
This flag controls what happens when a signal is delivered during
certain primitives (such as <CODE>open</CODE>, <CODE>read</CODE> or <CODE>write</CODE>),
and the signal handler returns normally.  There are two alternatives:
the library function can resume, or it can return failure with error
code <CODE>EINTR</CODE>.

</P>
<P>
The choice is controlled by the <CODE>SA_RESTART</CODE> flag for the
particular kind of signal that was delivered.  If the flag is set,
returning from a handler resumes the library function.  If the flag is
clear, returning from a handler makes the function fail.
See section <A HREF="libc_449.html#SEC456">Primitives Interrupted by Signals</A>.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_435.html">previous</A>, <A HREF="libc_437.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
