<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - BSD Random</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_363.html">previous</A>, <A HREF="libc_365.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC371" HREF="libc_toc.html#TOC371">BSD Random Number Functions</A></H3>

<P>
This section describes a set of random number generation functions that
are derived from BSD.  There is no advantage to using these functions
with the GNU C library; we support them for BSD compatibility only.

</P>
<P>
The prototypes for these functions are in <TT>`stdlib.h'</TT>.
<A NAME="IDX2006"></A>

</P>
<P>
<DL>
<DT><U>Function:</U> int32_t <B>random</B> <I>(void)</I>
<DD><A NAME="IDX2007"></A>
This function returns the next pseudo-random number in the sequence.
The value returned ranges from <CODE>0</CODE> to <CODE>RAND_MAX</CODE>.

</P>
<P>
<STRONG>Note:</STRONG> Historically this function returned a <CODE>long
int</CODE> value.  On 64bit systems <CODE>long int</CODE> would have been larger
than programs expected, so <CODE>random</CODE> is now defined to return
exactly 32 bits.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> void <B>srandom</B> <I>(unsigned int <VAR>seed</VAR>)</I>
<DD><A NAME="IDX2008"></A>
The <CODE>srandom</CODE> function sets the state of the random number
generator based on the integer <VAR>seed</VAR>.  If you supply a <VAR>seed</VAR> value
of <CODE>1</CODE>, this will cause <CODE>random</CODE> to reproduce the default set
of random numbers.

</P>
<P>
To produce a different set of pseudo-random numbers each time your
program runs, do <CODE>srandom (time (0))</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> void * <B>initstate</B> <I>(unsigned int <VAR>seed</VAR>, void *<VAR>state</VAR>, size_t <VAR>size</VAR>)</I>
<DD><A NAME="IDX2009"></A>
The <CODE>initstate</CODE> function is used to initialize the random number
generator state.  The argument <VAR>state</VAR> is an array of <VAR>size</VAR>
bytes, used to hold the state information.  It is initialized based on
<VAR>seed</VAR>.  The size must be between 8 and 256 bytes, and should be a
power of two.  The bigger the <VAR>state</VAR> array, the better.

</P>
<P>
The return value is the previous value of the state information array.
You can use this value later as an argument to <CODE>setstate</CODE> to
restore that state.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> void * <B>setstate</B> <I>(void *<VAR>state</VAR>)</I>
<DD><A NAME="IDX2010"></A>
The <CODE>setstate</CODE> function restores the random number state
information <VAR>state</VAR>.  The argument must have been the result of
a previous call to <VAR>initstate</VAR> or <VAR>setstate</VAR>.

</P>
<P>
The return value is the previous value of the state information array.
You can use this value later as an argument to <CODE>setstate</CODE> to
restore that state.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_363.html">previous</A>, <A HREF="libc_365.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
