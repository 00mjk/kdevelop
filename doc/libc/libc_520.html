<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - BSD Wait Functions</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_519.html">previous</A>, <A HREF="libc_521.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC528" HREF="libc_toc.html#TOC528">BSD Process Wait Functions</A></H2>

<P>
The GNU library also provides these related facilities for compatibility
with BSD Unix.  BSD uses the <CODE>union wait</CODE> data type to represent
status values rather than an <CODE>int</CODE>.  The two representations are
actually interchangeable; they describe the same bit patterns.  The GNU
C Library defines macros such as <CODE>WEXITSTATUS</CODE> so that they will
work on either kind of object, and the <CODE>wait</CODE> function is defined
to accept either type of pointer as its <VAR>status-ptr</VAR> argument.

</P>
<P>
These functions are declared in <TT>`sys/wait.h'</TT>.
<A NAME="IDX2797"></A>

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>union wait</B>
<DD><A NAME="IDX2798"></A>
This data type represents program termination status values.  It has
the following members:

</P>
<DL COMPACT>

<DT><CODE>int w_termsig</CODE>
<DD>
The value of this member is the same as that of the
<CODE>WTERMSIG</CODE> macro.

<DT><CODE>int w_coredump</CODE>
<DD>
The value of this member is the same as that of the
<CODE>WCOREDUMP</CODE> macro.

<DT><CODE>int w_retcode</CODE>
<DD>
The value of this member is the same as that of the
<CODE>WEXITSTATUS</CODE> macro.

<DT><CODE>int w_stopsig</CODE>
<DD>
The value of this member is the same as that of the
<CODE>WSTOPSIG</CODE> macro.
</DL>

<P>
Instead of accessing these members directly, you should use the
equivalent macros.
</DL>

</P>
<P>
The <CODE>wait3</CODE> function is the predecessor to <CODE>wait4</CODE>, which is
more flexible.  <CODE>wait3</CODE> is now obsolete.

</P>
<P>
<DL>
<DT><U>Function:</U> pid_t <B>wait3</B> <I>(union wait *<VAR>status-ptr</VAR>, int <VAR>options</VAR>, struct rusage *<VAR>usage</VAR>)</I>
<DD><A NAME="IDX2799"></A>
If <VAR>usage</VAR> is a null pointer, <CODE>wait3</CODE> is equivalent to
<CODE>waitpid (-1, <VAR>status-ptr</VAR>, <VAR>options</VAR>)</CODE>.

</P>
<P>
If <VAR>usage</VAR> is not null, <CODE>wait3</CODE> stores usage figures for the
child process in <CODE>*<VAR>rusage</VAR></CODE> (but only if the child has
terminated, not if it has stopped).  See section <A HREF="libc_410.html#SEC417">Resource Usage</A>.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_519.html">previous</A>, <A HREF="libc_521.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
