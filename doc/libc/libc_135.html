<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Matching POSIX Regexps</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_134.html">previous</A>, <A HREF="libc_136.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC142" HREF="libc_toc.html#TOC142">Matching a Compiled POSIX Regular Expression</A></H3>

<P>
Once you have compiled a regular expression, as described in section <A HREF="libc_133.html#SEC140">POSIX Regular Expression Compilation</A>, you can match it against strings using
<CODE>regexec</CODE>.  A match anywhere inside the string counts as success,
unless the regular expression contains anchor characters (<SAMP>`^'</SAMP> or
<SAMP>`$'</SAMP>).

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>regexec</B> <I>(regex_t *<VAR>compiled</VAR>, char *<VAR>string</VAR>, size_t <VAR>nmatch</VAR>, regmatch_t <VAR>matchptr</VAR> <TT>[]</TT>, int <VAR>eflags</VAR>)</I>
<DD><A NAME="IDX730"></A>
This function tries to match the compiled regular expression
<CODE>*<VAR>compiled</VAR></CODE> against <VAR>string</VAR>.

</P>
<P>
<CODE>regexec</CODE> returns <CODE>0</CODE> if the regular expression matches;
otherwise, it returns a nonzero value.  See the table below for
what nonzero values mean.  You can use <CODE>regerror</CODE> to produce an
error message string describing the reason for a nonzero value;
see section <A HREF="libc_138.html#SEC145">POSIX Regexp Matching Cleanup</A>.

</P>
<P>
The argument <VAR>eflags</VAR> is a word of bit flags that enable various
options.

</P>
<P>
If you want to get information about what part of <VAR>string</VAR> actually
matched the regular expression or its subexpressions, use the arguments
<VAR>matchptr</VAR> and <VAR>nmatch</VAR>.  Otherwise, pass <CODE>0</CODE> for
<VAR>nmatch</VAR>, and <CODE>NULL</CODE> for <VAR>matchptr</VAR>.  See section <A HREF="libc_136.html#SEC143">Match Results with Subexpressions</A>.
</DL>

</P>
<P>
You must match the regular expression with the same set of current
locales that were in effect when you compiled the regular expression.

</P>
<P>
The function <CODE>regexec</CODE> accepts the following flags in the
<VAR>eflags</VAR> argument:

</P>
<DL COMPACT>

<DT><CODE>REG_NOTBOL</CODE>
<DD>
Do not regard the beginning of the specified string as the beginning of
a line; more generally, don't make any assumptions about what text might
precede it.

<DT><CODE>REG_NOTEOL</CODE>
<DD>
Do not regard the end of the specified string as the end of a line; more
generally, don't make any assumptions about what text might follow it.
</DL>

<P>
Here are the possible nonzero values that <CODE>regexec</CODE> can return:

</P>
<DL COMPACT>

<DT><CODE>REG_NOMATCH</CODE>
<DD>
The pattern didn't match the string.  This isn't really an error.

<DT><CODE>REG_ESPACE</CODE>
<DD>
<CODE>regexec</CODE> ran out of memory.
</DL>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_134.html">previous</A>, <A HREF="libc_136.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
