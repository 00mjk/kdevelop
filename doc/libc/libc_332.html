<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Is It a Terminal</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_331.html">previous</A>, <A HREF="libc_333.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC339" HREF="libc_toc.html#TOC339">Identifying Terminals</A></H2>
<P>
<A NAME="IDX1599"></A>
<A NAME="IDX1600"></A>

</P>
<P>
The functions described in this chapter only work on files that
correspond to terminal devices.  You can find out whether a file
descriptor is associated with a terminal by using the <CODE>isatty</CODE>
function.

</P>
<P>
<A NAME="IDX1601"></A>
Prototypes for the functions in this section are declared in the header
file <TT>`unistd.h'</TT>.

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>isatty</B> <I>(int <VAR>filedes</VAR>)</I>
<DD><A NAME="IDX1602"></A>
This function returns <CODE>1</CODE> if <VAR>filedes</VAR> is a file descriptor
associated with an open terminal device, and @math{0} otherwise.
</DL>

</P>
<P>
If a file descriptor is associated with a terminal, you can get its
associated file name using the <CODE>ttyname</CODE> function.  See also the
<CODE>ctermid</CODE> function, described in section <A HREF="libc_537.html#SEC545">Identifying the Controlling Terminal</A>.

</P>
<P>
<DL>
<DT><U>Function:</U> char * <B>ttyname</B> <I>(int <VAR>filedes</VAR>)</I>
<DD><A NAME="IDX1603"></A>
If the file descriptor <VAR>filedes</VAR> is associated with a terminal
device, the <CODE>ttyname</CODE> function returns a pointer to a
statically-allocated, null-terminated string containing the file name of
the terminal file.  The value is a null pointer if the file descriptor
isn't associated with a terminal, or the file name cannot be determined.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>ttyname_r</B> <I>(int <VAR>filedes</VAR>, char *<VAR>buf</VAR>, size_t <VAR>len</VAR>)</I>
<DD><A NAME="IDX1604"></A>
The <CODE>ttyname_r</CODE> function is similar to the <CODE>ttyname</CODE> function
except that it places its result into the user-specified buffer starting
at <VAR>buf</VAR> with length <VAR>len</VAR>.

</P>
<P>
The normal return value from <CODE>ttyname_r</CODE> is @math{0}.  Otherwise an
error number is returned to indicate the error.  The following
<CODE>errno</CODE> error conditions are defined for this function:

</P>
<DL COMPACT>

<DT><CODE>EBADF</CODE>
<DD>
The <VAR>filedes</VAR> argument is not a valid file descriptor.

<DT><CODE>ENOTTY</CODE>
<DD>
The <VAR>filedes</VAR> is not associated with a terminal.

<DT><CODE>ERANGE</CODE>
<DD>
The buffer length <VAR>len</VAR> is too small to store the string to be
returned.
</DL>
</DL>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_331.html">previous</A>, <A HREF="libc_333.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
