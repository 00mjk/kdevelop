<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - IOCTLs</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_242.html">previous</A>, <A HREF="libc_244.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC250" HREF="libc_toc.html#TOC250">Generic I/O Control operations</A></H2>
<P>
<A NAME="IDX1163"></A>
<A NAME="IDX1164"></A>

</P>
<P>
The GNU system can handle most input/output operations on many different
devices and objects in terms of a few file primitives - <CODE>read</CODE>,
<CODE>write</CODE> and <CODE>lseek</CODE>.  However, most devices also have a few
peculiar operations which do not fit into this model. Such as:

</P>

<UL>

<LI>

Changing the character font used on a terminal.

<LI>

Telling a magnetic tape system to rewind or fast forward.  (Since they
cannot move in byte increments, <CODE>lseek</CODE> is inapplicable).

<LI>

Ejecting a disk from a drive.

<LI>

Playing an audio track from a CD-ROM drive.

<LI>

Maintaining routing tables for a network.

</UL>

<P>
Although some such objects such as sockets and terminals
<A NAME="DOCF1" HREF="libc_foot.html#FOOT1">(1)</A> have special functions of their own, it would
not be practical to create functions for all these cases.

</P>
<P>
Instead these minor operations, known as <STRONG>IOCTL</STRONG>s, are assigned code
numbers and multiplexed through the <CODE>ioctl</CODE> function, defined in
<CODE>sys/ioctl.h</CODE>.  The code numbers themselves are defined in many
different headers.

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>ioctl</B> <I>(int <VAR>filedes</VAR>, int <VAR>command</VAR>, ...)</I>
<DD><A NAME="IDX1165"></A>

</P>
<P>
The <CODE>ioctl</CODE> function performs the generic I/O operation
<VAR>command</VAR> on <VAR>filedes</VAR>.

</P>
<P>
A third argument is usually present, either a single number or a pointer
to a structure.  The meaning of this argument, the returned value, and
any error codes depends upon the command used.  Often @math{-1} is
returned for a failure.

</P>
</DL>

<P>
On some systems, IOCTLs used by different devices share the same numbers.
Thus, although use of an inappropriate IOCTL <EM>usually</EM> only produces
an error, you should not attempt to use device-specific IOCTLs on an
unknown device.

</P>
<P>
Most IOCTLs are OS-specific and/or only used in special system utilities,
and are thus beyond the scope of this document.  For an example of the use
of an IOCTL, see section <A HREF="libc_318.html#SEC325">Out-of-Band Data</A>.
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_242.html">previous</A>, <A HREF="libc_244.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
