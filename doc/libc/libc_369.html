<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Floating Point Classes</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_368.html">previous</A>, <A HREF="libc_370.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC376" HREF="libc_toc.html#TOC376">Floating-Point Number Classification Functions</A></H2>
<P>
<A NAME="IDX2033"></A>
<A NAME="IDX2034"></A>
<A NAME="IDX2035"></A>

</P>
<P>
ISO C 9x defines macros that let you determine what sort of
floating-point number a variable holds.

</P>
<P>
<DL>
<DT><U>Macro:</U> int <B>fpclassify</B> <I>(<EM>float-type</EM> <VAR>x</VAR>)</I>
<DD><A NAME="IDX2036"></A>
This is a generic macro which works on all floating-point types and
which returns a value of type <CODE>int</CODE>.  The possible values are:

</P>
<DL COMPACT>

<DT><CODE>FP_NAN</CODE>
<DD>
<A NAME="IDX2037"></A>
The floating-point number <VAR>x</VAR> is "Not a Number" (see section <A HREF="libc_372.html#SEC379">Infinity and NaN</A>)
<DT><CODE>FP_INFINITE</CODE>
<DD>
<A NAME="IDX2038"></A>
The value of <VAR>x</VAR> is either plus or minus infinity (see section <A HREF="libc_372.html#SEC379">Infinity and NaN</A>)
<DT><CODE>FP_ZERO</CODE>
<DD>
<A NAME="IDX2039"></A>
The value of <VAR>x</VAR> is zero.  In floating-point formats like IEEE
754, where zero can be signed, this value is also returned if
<VAR>x</VAR> is negative zero.
<DT><CODE>FP_SUBNORMAL</CODE>
<DD>
<A NAME="IDX2040"></A>
Numbers whose absolute value is too small to be represented in the
normal format are represented in an alternate, <STRONG>denormalized</STRONG> format
(see section <A HREF="libc_631.html#SEC639">Floating Point Representation Concepts</A>).  This format is less precise but can
represent values closer to zero.  <CODE>fpclassify</CODE> returns this value
for values of <VAR>x</VAR> in this alternate format.
<DT><CODE>FP_NORMAL</CODE>
<DD>
<A NAME="IDX2041"></A>
This value is returned for all other values of <VAR>x</VAR>.  It indicates
that there is nothing special about the number.
</DL>

</DL>

<P>
<CODE>fpclassify</CODE> is most useful if more than one property of a number
must be tested.  There are more specific macros which only test one
property at a time.  Generally these macros execute faster than
<CODE>fpclassify</CODE>, since there is special hardware support for them.
You should therefore use the specific macros whenever possible.

</P>
<P>
<DL>
<DT><U>Macro:</U> int <B>isfinite</B> <I>(<EM>float-type</EM> <VAR>x</VAR>)</I>
<DD><A NAME="IDX2042"></A>
This macro returns a nonzero value if <VAR>x</VAR> is finite: not plus or
minus infinity, and not NaN.  It is equivalent to

</P>

<PRE>
(fpclassify (x) != FP_NAN &#38;&#38; fpclassify (x) != FP_INFINITE)
</PRE>

<P>
<CODE>isfinite</CODE> is implemented as a macro which accepts any
floating-point type.
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> int <B>isnormal</B> <I>(<EM>float-type</EM> <VAR>x</VAR>)</I>
<DD><A NAME="IDX2043"></A>
This macro returns a nonzero value if <VAR>x</VAR> is finite and normalized.
It is equivalent to

</P>

<PRE>
(fpclassify (x) == FP_NORMAL)
</PRE>

</DL>

<P>
<DL>
<DT><U>Macro:</U> int <B>isnan</B> <I>(<EM>float-type</EM> <VAR>x</VAR>)</I>
<DD><A NAME="IDX2044"></A>
This macro returns a nonzero value if <VAR>x</VAR> is NaN.  It is equivalent
to

</P>

<PRE>
(fpclassify (x) == FP_NAN)
</PRE>

</DL>

<P>
Another set of floating-point classification functions was provided by
BSD.  The GNU C library also supports these functions; however, we
recommend that you use the C9x macros in new code.  Those are standard
and will be available more widely.  Also, since they are macros, you do
not have to worry about the type of their argument.

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>isinf</B> <I>(double <VAR>x</VAR>)</I>
<DD><A NAME="IDX2045"></A>
<DT><U>Function:</U> int <B>isinff</B> <I>(float <VAR>x</VAR>)</I>
<DD><A NAME="IDX2046"></A>
<DT><U>Function:</U> int <B>isinfl</B> <I>(long double <VAR>x</VAR>)</I>
<DD><A NAME="IDX2047"></A>
This function returns <CODE>-1</CODE> if <VAR>x</VAR> represents negative infinity,
<CODE>1</CODE> if <VAR>x</VAR> represents positive infinity, and <CODE>0</CODE> otherwise.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>isnan</B> <I>(double <VAR>x</VAR>)</I>
<DD><A NAME="IDX2048"></A>
<DT><U>Function:</U> int <B>isnanf</B> <I>(float <VAR>x</VAR>)</I>
<DD><A NAME="IDX2049"></A>
<DT><U>Function:</U> int <B>isnanl</B> <I>(long double <VAR>x</VAR>)</I>
<DD><A NAME="IDX2050"></A>
This function returns a nonzero value if <VAR>x</VAR> is a "not a number"
value, and zero otherwise.

</P>
<P>
<STRONG>Note:</STRONG> The <CODE>isnan</CODE> macro defined by ISO C 9x overrides
the BSD function.  This is normally not a problem, because the two
routines behave identically.  However, if you really need to get the BSD
function for some reason, you can write

</P>

<PRE>
(isnan) (x)
</PRE>

</DL>

<P>
<DL>
<DT><U>Function:</U> int <B>finite</B> <I>(double <VAR>x</VAR>)</I>
<DD><A NAME="IDX2051"></A>
<DT><U>Function:</U> int <B>finitef</B> <I>(float <VAR>x</VAR>)</I>
<DD><A NAME="IDX2052"></A>
<DT><U>Function:</U> int <B>finitel</B> <I>(long double <VAR>x</VAR>)</I>
<DD><A NAME="IDX2053"></A>
This function returns a nonzero value if <VAR>x</VAR> is finite or a "not a
number" value, and zero otherwise.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> double <B>infnan</B> <I>(int <VAR>error</VAR>)</I>
<DD><A NAME="IDX2054"></A>
This function is provided for compatibility with BSD.  Its argument is
an error code, <CODE>EDOM</CODE> or <CODE>ERANGE</CODE>; <CODE>infnan</CODE> returns the
value that a math function would return if it set <CODE>errno</CODE> to that
value.  See section <A HREF="libc_374.html#SEC381">Error Reporting by Mathematical Functions</A>.  <CODE>-ERANGE</CODE> is also acceptable
as an argument, and corresponds to <CODE>-HUGE_VAL</CODE> as a value.

</P>
<P>
In the BSD library, on certain machines, <CODE>infnan</CODE> raises a fatal
signal in all cases.  The GNU library does not do likewise, because that
does not fit the ISO C specification.
</DL>

</P>
<P>
<STRONG>Portability Note:</STRONG> The functions listed in this section are BSD
extensions.

</P>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_368.html">previous</A>, <A HREF="libc_370.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
