<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Initial Signal Actions</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_436.html">previous</A>, <A HREF="libc_438.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC444" HREF="libc_toc.html#TOC444">Initial Signal Actions</A></H3>
<P>
<A NAME="IDX2542"></A>

</P>
<P>
When a new process is created (see section <A HREF="libc_516.html#SEC524">Creating a Process</A>), it inherits
handling of signals from its parent process.  However, when you load a
new process image using the <CODE>exec</CODE> function (see section <A HREF="libc_517.html#SEC525">Executing a File</A>), any signals that you've defined your own handlers for revert to
their <CODE>SIG_DFL</CODE> handling.  (If you think about it a little, this
makes sense; the handler functions from the old program are specific to
that program, and aren't even present in the address space of the new
program image.)  Of course, the new program can establish its own
handlers.

</P>
<P>
When a program is run by a shell, the shell normally sets the initial
actions for the child process to <CODE>SIG_DFL</CODE> or <CODE>SIG_IGN</CODE>, as
appropriate.  It's a good idea to check to make sure that the shell has
not set up an initial action of <CODE>SIG_IGN</CODE> before you establish your
own signal handlers.

</P>
<P>
Here is an example of how to establish a handler for <CODE>SIGHUP</CODE>, but
not if <CODE>SIGHUP</CODE> is currently ignored:

</P>

<PRE>
...
struct sigaction temp;

sigaction (SIGHUP, NULL, &#38;temp);

if (temp.sa_handler != SIG_IGN)
  {
    temp.sa_handler = handle_sighup;
    sigemptyset (&#38;temp.sa_mask);
    sigaction (SIGHUP, &#38;temp, NULL);
  }
</PRE>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_436.html">previous</A>, <A HREF="libc_438.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
