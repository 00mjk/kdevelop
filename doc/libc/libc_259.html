<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Creating Directories</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_258.html">previous</A>, <A HREF="libc_260.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC266" HREF="libc_toc.html#TOC266">Creating Directories</A></H2>
<P>
<A NAME="IDX1248"></A>
<A NAME="IDX1249"></A>

</P>
<P>
<A NAME="IDX1250"></A>
Directories are created with the <CODE>mkdir</CODE> function.  (There is also
a shell command <CODE>mkdir</CODE> which does the same thing.)

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>mkdir</B> <I>(const char *<VAR>filename</VAR>, mode_t <VAR>mode</VAR>)</I>
<DD><A NAME="IDX1251"></A>
The <CODE>mkdir</CODE> function creates a new, empty directory whose name is
<VAR>filename</VAR>.

</P>
<P>
The argument <VAR>mode</VAR> specifies the file permissions for the new
directory file.  See section <A HREF="libc_265.html#SEC272">The Mode Bits for Access Permission</A>, for more information about
this.

</P>
<P>
A return value of <CODE>0</CODE> indicates successful completion, and
<CODE>-1</CODE> indicates failure.  In addition to the usual file name syntax
errors (see section <A HREF="libc_153.html#SEC160">File Name Errors</A>), the following <CODE>errno</CODE> error
conditions are defined for this function:

</P>
<DL COMPACT>

<DT><CODE>EACCES</CODE>
<DD>
Write permission is denied for the parent directory in which the new
directory is to be added.

<DT><CODE>EEXIST</CODE>
<DD>
A file named <VAR>filename</VAR> already exists.

<DT><CODE>EMLINK</CODE>
<DD>
The parent directory has too many links.

Well-designed file systems never report this error, because they permit
more links than your disk could possibly hold.  However, you must still
take account of the possibility of this error, as it could result from
network access to a file system on another machine.

<DT><CODE>ENOSPC</CODE>
<DD>
The file system doesn't have enough room to create the new directory.

<DT><CODE>EROFS</CODE>
<DD>
The parent directory of the directory being created is on a read-only
file system, and cannot be modified.
</DL>

<P>
To use this function, your program should include the header file
<TT>`sys/stat.h'</TT>.
<A NAME="IDX1252"></A>
</DL>

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_258.html">previous</A>, <A HREF="libc_260.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
