<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - EOF and Errors</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_194.html">previous</A>, <A HREF="libc_196.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC202" HREF="libc_toc.html#TOC202">End-Of-File and Errors</A></H2>

<P>
<A NAME="IDX885"></A>
Many of the functions described in this chapter return the value of the
macro <CODE>EOF</CODE> to indicate unsuccessful completion of the operation.
Since <CODE>EOF</CODE> is used to report both end of file and random errors,
it's often better to use the <CODE>feof</CODE> function to check explicitly
for end of file and <CODE>ferror</CODE> to check for errors.  These functions
check indicators that are part of the internal state of the stream
object, indicators set if the appropriate condition was detected by a
previous I/O operation on that stream.

</P>
<P>
These symbols are declared in the header file <TT>`stdio.h'</TT>.
<A NAME="IDX886"></A>

</P>
<P>
<DL>
<DT><U>Macro:</U> int <B>EOF</B>
<DD><A NAME="IDX887"></A>
This macro is an integer value that is returned by a number of functions
to indicate an end-of-file condition, or some other error situation.
With the GNU library, <CODE>EOF</CODE> is <CODE>-1</CODE>.  In other libraries, its
value may be some other negative number.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> void <B>clearerr</B> <I>(FILE *<VAR>stream</VAR>)</I>
<DD><A NAME="IDX888"></A>
This function clears the end-of-file and error indicators for the
stream <VAR>stream</VAR>.

</P>
<P>
The file positioning functions (see section <A HREF="libc_197.html#SEC204">File Positioning</A>) also clear the
end-of-file indicator for the stream.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>feof</B> <I>(FILE *<VAR>stream</VAR>)</I>
<DD><A NAME="IDX889"></A>
The <CODE>feof</CODE> function returns nonzero if and only if the end-of-file
indicator for the stream <VAR>stream</VAR> is set.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>ferror</B> <I>(FILE *<VAR>stream</VAR>)</I>
<DD><A NAME="IDX890"></A>
The <CODE>ferror</CODE> function returns nonzero if and only if the error
indicator for the stream <VAR>stream</VAR> is set, indicating that an error
has occurred on a previous operation on the stream.
</DL>

</P>
<P>
In addition to setting the error indicator associated with the stream,
the functions that operate on streams also set <CODE>errno</CODE> in the same
way as the corresponding low-level functions that operate on file
descriptors.  For example, all of the functions that perform output to a
stream--such as <CODE>fputc</CODE>, <CODE>printf</CODE>, and <CODE>fflush</CODE>---are
implemented in terms of <CODE>write</CODE>, and all of the <CODE>errno</CODE> error
conditions defined for <CODE>write</CODE> are meaningful for these functions.
For more information about the descriptor-level I/O functions, see
section <A HREF="libc_213.html#SEC220">Low-Level Input/Output</A>.

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_194.html">previous</A>, <A HREF="libc_196.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
