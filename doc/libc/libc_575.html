<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Lookup Group</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_574.html">previous</A>, <A HREF="libc_576.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC583" HREF="libc_toc.html#TOC583">Looking Up One Group</A></H3>
<P>
<A NAME="IDX3014"></A>
<A NAME="IDX3015"></A>

</P>
<P>
You can search the group database for information about a specific
group using <CODE>getgrgid</CODE> or <CODE>getgrnam</CODE>.  These functions are
declared in <TT>`grp.h'</TT>.

</P>
<P>
<DL>
<DT><U>Function:</U> struct group * <B>getgrgid</B> <I>(gid_t <VAR>gid</VAR>)</I>
<DD><A NAME="IDX3016"></A>
This function returns a pointer to a statically-allocated structure
containing information about the group whose group ID is <VAR>gid</VAR>.
This structure may be overwritten by subsequent calls to
<CODE>getgrgid</CODE>.

</P>
<P>
A null pointer indicates there is no group with ID <VAR>gid</VAR>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>getgrgid_r</B> <I>(gid_t <VAR>gid</VAR>, struct group *<VAR>result_buf</VAR>, char *<VAR>buffer</VAR>, size_t <VAR>buflen</VAR>, struct group **<VAR>result</VAR>)</I>
<DD><A NAME="IDX3017"></A>
This function is similar to <CODE>getgrgid</CODE> in that it returns
information about the group whose group ID is <VAR>gid</VAR>.  However, it
fills the user supplied structure pointed to by <VAR>result_buf</VAR> with
the information instead of using a static buffer.  The first
<VAR>buflen</VAR> bytes of the additional buffer pointed to by <VAR>buffer</VAR>
are used to contain additional information, normally strings which are
pointed to by the elements of the result structure.

</P>
<P>
If a group with ID <VAR>gid</VAR> is found, the pointer returned in
<VAR>result</VAR> points to the record which contains the wanted data (i.e.,
<VAR>result</VAR> contains the value <VAR>result_buf</VAR>).  If no group is found
or if an error occurred, the pointer returned in <VAR>result</VAR> is a null
pointer.  The function returns zero or an error code.  If the buffer
<VAR>buffer</VAR> is too small to contain all the needed information, the
error code <CODE>ERANGE</CODE> is returned and <VAR>errno</VAR> is set to
<CODE>ERANGE</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> struct group * <B>getgrnam</B> <I>(const char *<VAR>name</VAR>)</I>
<DD><A NAME="IDX3018"></A>
This function returns a pointer to a statically-allocated structure
containing information about the group whose group name is <VAR>name</VAR>.
This structure may be overwritten by subsequent calls to
<CODE>getgrnam</CODE>.

</P>
<P>
A null pointer indicates there is no group named <VAR>name</VAR>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>getgrnam_r</B> <I>(const char *<VAR>name</VAR>, struct group *<VAR>result_buf</VAR>, char *<VAR>buffer</VAR>, size_t <VAR>buflen</VAR>, struct group **<VAR>result</VAR>)</I>
<DD><A NAME="IDX3019"></A>
This function is similar to <CODE>getgrnam</CODE> in that is returns
information about the group whose group name is <VAR>name</VAR>.  Like
<CODE>getgrgid_r</CODE>, it uses the user supplied buffers in
<VAR>result_buf</VAR> and <VAR>buffer</VAR>, not a static buffer.

</P>
<P>
The return values are the same as for <CODE>getgrgid_r</CODE>
<CODE>ERANGE</CODE>.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_574.html">previous</A>, <A HREF="libc_576.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
