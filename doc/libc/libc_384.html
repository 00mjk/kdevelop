<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Misc FP Arithmetic</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_383.html">previous</A>, <A HREF="libc_385.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC391" HREF="libc_toc.html#TOC391">Miscellaneous FP arithmetic functions</A></H3>
<P>
<A NAME="IDX2198"></A>
<A NAME="IDX2199"></A>
<A NAME="IDX2200"></A>
<A NAME="IDX2201"></A>

</P>
<P>
The functions in this section perform miscellaneous but common
operations that are awkward to express with C operators.  On some
processors these functions can use special machine instructions to
perform these operations faster than the equivalent C code.

</P>
<P>
<DL>
<DT><U>Function:</U> double <B>fmin</B> <I>(double <VAR>x</VAR>, double <VAR>y</VAR>)</I>
<DD><A NAME="IDX2202"></A>
<DT><U>Function:</U> float <B>fminf</B> <I>(float <VAR>x</VAR>, float <VAR>y</VAR>)</I>
<DD><A NAME="IDX2203"></A>
<DT><U>Function:</U> long double <B>fminl</B> <I>(long double <VAR>x</VAR>, long double <VAR>y</VAR>)</I>
<DD><A NAME="IDX2204"></A>
The <CODE>fmin</CODE> function returns the lesser of the two values <VAR>x</VAR>
and <VAR>y</VAR>.  It is similar to the expression

<PRE>
((x) &#60; (y) ? (x) : (y))
</PRE>

<P>
except that <VAR>x</VAR> and <VAR>y</VAR> are only evaluated once.

</P>
<P>
If an argument is NaN, the other argument is returned.  If both arguments
are NaN, NaN is returned.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> double <B>fmax</B> <I>(double <VAR>x</VAR>, double <VAR>y</VAR>)</I>
<DD><A NAME="IDX2205"></A>
<DT><U>Function:</U> float <B>fmaxf</B> <I>(float <VAR>x</VAR>, float <VAR>y</VAR>)</I>
<DD><A NAME="IDX2206"></A>
<DT><U>Function:</U> long double <B>fmaxl</B> <I>(long double <VAR>x</VAR>, long double <VAR>y</VAR>)</I>
<DD><A NAME="IDX2207"></A>
The <CODE>fmax</CODE> function returns the greater of the two values <VAR>x</VAR>
and <VAR>y</VAR>.

</P>
<P>
If an argument is NaN, the other argument is returned.  If both arguments
are NaN, NaN is returned.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> double <B>fdim</B> <I>(double <VAR>x</VAR>, double <VAR>y</VAR>)</I>
<DD><A NAME="IDX2208"></A>
<DT><U>Function:</U> float <B>fdimf</B> <I>(float <VAR>x</VAR>, float <VAR>y</VAR>)</I>
<DD><A NAME="IDX2209"></A>
<DT><U>Function:</U> long double <B>fdiml</B> <I>(long double <VAR>x</VAR>, long double <VAR>y</VAR>)</I>
<DD><A NAME="IDX2210"></A>
The <CODE>fdim</CODE> function returns the positive difference between
<VAR>x</VAR> and <VAR>y</VAR>.  The positive difference is @math{<VAR>x</VAR> -
<VAR>y</VAR>} if <VAR>x</VAR> is greater than <VAR>y</VAR>, and @math{0} otherwise.

</P>
<P>
If <VAR>x</VAR>, <VAR>y</VAR>, or both are NaN, NaN is returned.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> double <B>fma</B> <I>(double <VAR>x</VAR>, double <VAR>y</VAR>, double <VAR>z</VAR>)</I>
<DD><A NAME="IDX2211"></A>
<DT><U>Function:</U> float <B>fmaf</B> <I>(float <VAR>x</VAR>, float <VAR>y</VAR>, float <VAR>z</VAR>)</I>
<DD><A NAME="IDX2212"></A>
<DT><U>Function:</U> long double <B>fmal</B> <I>(long double <VAR>x</VAR>, long double <VAR>y</VAR>, long double <VAR>z</VAR>)</I>
<DD><A NAME="IDX2213"></A>
<A NAME="IDX2214"></A>
The <CODE>fma</CODE> function performs floating-point multiply-add.  This is
the operation @math{(<VAR>x</VAR> @mul{} <VAR>y</VAR>) + <VAR>z</VAR>}, but the
intermediate result is not rounded to the destination type.  This can
sometimes improve the precision of a calculation.

</P>
<P>
This function was introduced because some processors have a special
instruction to perform multiply-add.  The C compiler cannot use it
directly, because the expression <SAMP>`x*y + z'</SAMP> is defined to round the
intermediate result.  <CODE>fma</CODE> lets you choose when you want to round
only once.

</P>
<P>
<A NAME="IDX2215"></A>
On processors which do not implement multiply-add in hardware,
<CODE>fma</CODE> can be very slow since it must avoid intermediate rounding.
<TT>`math.h'</TT> defines the symbols <CODE>FP_FAST_FMA</CODE>,
<CODE>FP_FAST_FMAF</CODE>, and <CODE>FP_FAST_FMAL</CODE> when the corresponding
version of <CODE>fma</CODE> is no slower than the expression <SAMP>`x*y + z'</SAMP>.
In the GNU C library, this always means the operation is implemented in
hardware.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_383.html">previous</A>, <A HREF="libc_385.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
