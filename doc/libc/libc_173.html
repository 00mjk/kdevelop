<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Other Output Conversions</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_172.html">previous</A>, <A HREF="libc_174.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC180" HREF="libc_toc.html#TOC180">Other Output Conversions</A></H3>

<P>
This section describes miscellaneous conversions for <CODE>printf</CODE>.

</P>
<P>
The <SAMP>`%c'</SAMP> conversion prints a single character.  The <CODE>int</CODE>
argument is first converted to an <CODE>unsigned char</CODE>.  The <SAMP>`-'</SAMP>
flag can be used to specify left-justification in the field, but no
other flags are defined, and no precision or type modifier can be given.
For example:

</P>

<PRE>
printf ("%c%c%c%c%c", 'h', 'e', 'l', 'l', 'o');
</PRE>

<P>
prints <SAMP>`hello'</SAMP>.

</P>
<P>
The <SAMP>`%s'</SAMP> conversion prints a string.  The corresponding argument
must be of type <CODE>char *</CODE> (or <CODE>const char *</CODE>).  A precision can
be specified to indicate the maximum number of characters to write;
otherwise characters in the string up to but not including the
terminating null character are written to the output stream.  The
<SAMP>`-'</SAMP> flag can be used to specify left-justification in the field,
but no other flags or type modifiers are defined for this conversion.
For example:

</P>

<PRE>
printf ("%3s%-6s", "no", "where");
</PRE>

<P>
prints <SAMP>` nowhere '</SAMP>.

</P>
<P>
If you accidentally pass a null pointer as the argument for a <SAMP>`%s'</SAMP>
conversion, the GNU library prints it as <SAMP>`(null)'</SAMP>.  We think this
is more useful than crashing.  But it's not good practice to pass a null
argument intentionally.

</P>
<P>
The <SAMP>`%m'</SAMP> conversion prints the string corresponding to the error
code in <CODE>errno</CODE>.  See section <A HREF="libc_18.html#SEC18">Error Messages</A>.  Thus:

</P>

<PRE>
fprintf (stderr, "can't open `%s': %m\n", filename);
</PRE>

<P>
is equivalent to:

</P>

<PRE>
fprintf (stderr, "can't open `%s': %s\n", filename, strerror (errno));
</PRE>

<P>
The <SAMP>`%m'</SAMP> conversion is a GNU C library extension.

</P>
<P>
The <SAMP>`%p'</SAMP> conversion prints a pointer value.  The corresponding
argument must be of type <CODE>void *</CODE>.  In practice, you can use any
type of pointer.

</P>
<P>
In the GNU system, non-null pointers are printed as unsigned integers,
as if a <SAMP>`%#x'</SAMP> conversion were used.  Null pointers print as
<SAMP>`(nil)'</SAMP>.  (Pointers might print differently in other systems.)

</P>
<P>
For example:

</P>

<PRE>
printf ("%p", "testing");
</PRE>

<P>
prints <SAMP>`0x'</SAMP> followed by a hexadecimal number--the address of the
string constant <CODE>"testing"</CODE>.  It does not print the word
<SAMP>`testing'</SAMP>.

</P>
<P>
You can supply the <SAMP>`-'</SAMP> flag with the <SAMP>`%p'</SAMP> conversion to
specify left-justification, but no other flags, precision, or type
modifiers are defined.

</P>
<P>
The <SAMP>`%n'</SAMP> conversion is unlike any of the other output conversions.
It uses an argument which must be a pointer to an <CODE>int</CODE>, but
instead of printing anything it stores the number of characters printed
so far by this call at that location.  The <SAMP>`h'</SAMP> and <SAMP>`l'</SAMP> type
modifiers are permitted to specify that the argument is of type
<CODE>short int *</CODE> or <CODE>long int *</CODE> instead of <CODE>int *</CODE>, but no
flags, field width, or precision are permitted.

</P>
<P>
For example,

</P>

<PRE>
int nchar;
printf ("%d %s%n\n", 3, "bears", &#38;nchar);
</PRE>

<P>
prints:

</P>

<PRE>
3 bears
</PRE>

<P>
and sets <CODE>nchar</CODE> to <CODE>7</CODE>, because <SAMP>`3 bears'</SAMP> is seven
characters.

</P>

<P>
The <SAMP>`%%'</SAMP> conversion prints a literal <SAMP>`%'</SAMP> character.  This
conversion doesn't use an argument, and no flags, field width,
precision, or type modifiers are permitted.

</P>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_172.html">previous</A>, <A HREF="libc_174.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
