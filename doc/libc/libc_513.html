<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Running a Command</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_512.html">previous</A>, <A HREF="libc_514.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC521" HREF="libc_toc.html#TOC521">Running a Command</A></H2>
<P>
<A NAME="IDX2754"></A>

</P>
<P>
The easy way to run another program is to use the <CODE>system</CODE>
function.  This function does all the work of running a subprogram, but
it doesn't give you much control over the details: you have to wait
until the subprogram terminates before you can do anything else.

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>system</B> <I>(const char *<VAR>command</VAR>)</I>
<DD><A NAME="IDX2755"></A>
<A NAME="IDX2756"></A>
This function executes <VAR>command</VAR> as a shell command.  In the GNU C
library, it always uses the default shell <CODE>sh</CODE> to run the command.
In particular, it searches the directories in <CODE>PATH</CODE> to find
programs to execute.  The return value is <CODE>-1</CODE> if it wasn't
possible to create the shell process, and otherwise is the status of the
shell process.  See section <A HREF="libc_518.html#SEC526">Process Completion</A>, for details on how this
status code can be interpreted.

</P>
<P>
If the <VAR>command</VAR> argument is a null pointer a non-zero return value
indicates that a command processor is available and this function can be
used at all.

</P>
<P>
This function is a cancelation point in multi-threaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <CODE>system</CODE> is
called.  If the thread gets canceled these resources stay allocated
until the program ends.  To avoid this calls to <CODE>system</CODE> should be
protected using cancelation handlers.

</P>
<P>
<A NAME="IDX2757"></A>
The <CODE>system</CODE> function is declared in the header file
<TT>`stdlib.h'</TT>.
</DL>

</P>
<P>
<STRONG>Portability Note:</STRONG> Some C implementations may not have any
notion of a command processor that can execute other programs.  You can
determine whether a command processor exists by executing
<CODE>system (NULL)</CODE>; if the return value is nonzero, a command
processor is available.

</P>
<P>
The <CODE>popen</CODE> and <CODE>pclose</CODE> functions (see section <A HREF="libc_275.html#SEC282">Pipe to a Subprocess</A>) are closely related to the <CODE>system</CODE> function.  They
allow the parent process to communicate with the standard input and
output channels of the command being executed.

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_512.html">previous</A>, <A HREF="libc_514.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
