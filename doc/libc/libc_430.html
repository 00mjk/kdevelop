<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Signal Messages</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_429.html">previous</A>, <A HREF="libc_431.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC437" HREF="libc_toc.html#TOC437">Signal Messages</A></H3>
<P>
<A NAME="IDX2512"></A>

</P>
<P>
We mentioned above that the shell prints a message describing the signal
that terminated a child process.  The clean way to print a message
describing a signal is to use the functions <CODE>strsignal</CODE> and
<CODE>psignal</CODE>.  These functions use a signal number to specify which
kind of signal to describe.  The signal number may come from the
termination status of a child process (see section <A HREF="libc_518.html#SEC526">Process Completion</A>) or it
may come from a signal handler in the same process.

</P>
<P>
<DL>
<DT><U>Function:</U> char * <B>strsignal</B> <I>(int <VAR>signum</VAR>)</I>
<DD><A NAME="IDX2513"></A>
This function returns a pointer to a statically-allocated string
containing a message describing the signal <VAR>signum</VAR>.  You
should not modify the contents of this string; and, since it can be
rewritten on subsequent calls, you should save a copy of it if you need
to reference it later.

</P>
<P>
<A NAME="IDX2514"></A>
This function is a GNU extension, declared in the header file
<TT>`string.h'</TT>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> void <B>psignal</B> <I>(int <VAR>signum</VAR>, const char *<VAR>message</VAR>)</I>
<DD><A NAME="IDX2515"></A>
This function prints a message describing the signal <VAR>signum</VAR> to the
standard error output stream <CODE>stderr</CODE>; see section <A HREF="libc_157.html#SEC164">Standard Streams</A>.

</P>
<P>
If you call <CODE>psignal</CODE> with a <VAR>message</VAR> that is either a null
pointer or an empty string, <CODE>psignal</CODE> just prints the message
corresponding to <VAR>signum</VAR>, adding a trailing newline.

</P>
<P>
If you supply a non-null <VAR>message</VAR> argument, then <CODE>psignal</CODE>
prefixes its output with this string.  It adds a colon and a space
character to separate the <VAR>message</VAR> from the string corresponding
to <VAR>signum</VAR>.

</P>
<P>
<A NAME="IDX2516"></A>
This function is a BSD feature, declared in the header file <TT>`signal.h'</TT>.
</DL>

</P>
<P>
<A NAME="IDX2517"></A>
There is also an array <CODE>sys_siglist</CODE> which contains the messages
for the various signal codes.  This array exists on BSD systems, unlike
<CODE>strsignal</CODE>.

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_429.html">previous</A>, <A HREF="libc_431.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
