<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Adding Severity Classes</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_210.html">previous</A>, <A HREF="libc_212.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC218" HREF="libc_toc.html#TOC218">Adding Severity Classes</A></H3>
<P>
<A NAME="IDX976"></A>

</P>
<P>
There is another possibility to introduce severity classes beside using
the environment variable <CODE>SEV_LEVEL</CODE>.  This simplifies the task of
introducing new classes in a running program.  One could use the
<CODE>setenv</CODE> or <CODE>putenv</CODE> function to set the environment variable,
but this is toilsome.

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>addseverity</B> <I>(int <VAR>severity</VAR>, const char *<VAR>string</VAR>)</I>
<DD><A NAME="IDX977"></A>
This function allows to introduce new severity classes which can be
addressed by the <VAR>severity</VAR> parameter of the <CODE>fmtmsg</CODE> function.
The <VAR>severity</VAR> parameter of <CODE>addseverity</CODE> must match the value
for the parameter with the same name of <CODE>fmtmsg</CODE> and <VAR>string</VAR>
is the string printed in the actual messages instead of the numeric
value.

</P>
<P>
If <VAR>string</VAR> is <CODE>NULL</CODE> the severity class with the numeric value
according to <VAR>severity</VAR> is removed.

</P>
<P>
It is not possible to overwrite or remove one of the default severity
classes.  All calls to <CODE>addseverity</CODE> with <VAR>severity</VAR> set to one
of the values for the default classes will fail.

</P>
<P>
The return value is <CODE>MM_OK</CODE> if the task was successfully performed.
If the return value is <CODE>MM_NOTOK</CODE> something went wrong.  This could
mean that no more memory is available or a class is not available when
it has to be removed.

</P>
<P>
This function is not specified in the X/Open Portability Guide although
the <CODE>fmtsmg</CODE> function is.  It is available on System V systems.
</DL>

</P>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_210.html">previous</A>, <A HREF="libc_212.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
