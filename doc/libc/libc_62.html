<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Wide Character Case Conversion</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_61.html">previous</A>, <A HREF="libc_63.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC62" HREF="libc_toc.html#TOC62">Mapping of wide characters.</A></H2>

<P>
As for the classification functions the ISO C standard also
generalizes the mapping functions.  Instead of only allowing the two
standard mappings the locale can contain others.  Again, the
<CODE>localedef</CODE> program already supports generating such locale data
files.

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>wctrans_t</B>
<DD><A NAME="IDX391"></A>
This data type is defined as a scalar type which can hold a value
representing the locale-dependent character mapping.  There is no way to
construct such a value beside using the return value of the
<CODE>wctrans</CODE> function.

</P>
<P>
<A NAME="IDX392"></A>
This type is defined in <TT>`wctype.h'</TT>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> wctrans_t <B>wctrans</B> <I>(const char *<VAR>property</VAR>)</I>
<DD><A NAME="IDX393"></A>
The <CODE>wctrans</CODE> function has to be used to find out whether a named
mapping is defined in the current locale selected for the
<CODE>LC_CTYPE</CODE> category.  If the returned value is non-zero it can
afterwards be used in calls to <CODE>towctrans</CODE>.  If the return value is
zero no such mapping is known in the current locale.

</P>
<P>
Beside locale-specific mappings there are two mappings which are
guaranteed to be available in every locale:

</P>
<P>
@multitable @columnfractions .5 .5
<LI>

<CODE>"tolower"</CODE> @tab <CODE>"toupper"</CODE>

<A NAME="IDX394"></A>
This function is declared in <TT>`wctype.h'</TT>.
</DL>

<DL>
<DT><U>Function:</U> wint_t <B>towctrans</B> <I>(wint_t <VAR>wc</VAR>, wctrans_t <VAR>desc</VAR>)</I>
<DD><A NAME="IDX395"></A>
The <CODE>towctrans</CODE> function maps the input character <VAR>wc</VAR>
according to the rules of the mapping for which <VAR>desc</VAR> is an
descriptor and returns the so found value.  The <VAR>desc</VAR> value must be
obtained by a successful call to <CODE>wctrans</CODE>.

<A NAME="IDX396"></A>
This function is declared in <TT>`wctype.h'</TT>.
</DL>

The ISO C standard also defines for the generally available mappings
convenient shortcuts so that it is not necessary to call <CODE>wctrans</CODE>
for them.

<DL>
<DT><U>Function:</U> wint_t <B>towlower</B> <I>(wint_t <VAR>wc</VAR>)</I>
<DD><A NAME="IDX397"></A>
If <VAR>wc</VAR> is an upper-case letter, <CODE>towlower</CODE> returns the corresponding
lower-case letter.  If <VAR>wc</VAR> is not an upper-case letter,
<VAR>wc</VAR> is returned unchanged.

<CODE>towlower</CODE> can be implemented using


<PRE>
towctrans (wc, wctrans ("tolower"))
</PRE>

<A NAME="IDX398"></A>
This function is declared in <TT>`wctype.h'</TT>.
</DL>

<DL>
<DT><U>Function:</U> wint_t <B>towupper</B> <I>(wint_t <VAR>wc</VAR>)</I>
<DD><A NAME="IDX399"></A>
If <VAR>wc</VAR> is a lower-case letter, <CODE>towupper</CODE> returns the corresponding
upper-case letter.  Otherwise <VAR>wc</VAR> is returned unchanged.

<CODE>towupper</CODE> can be implemented using


<PRE>
towctrans (wc, wctrans ("toupper"))
</PRE>

<A NAME="IDX400"></A>
This function is declared in <TT>`wctype.h'</TT>.
</DL>

The same warnings given in the last section for the use of the wide
character classification function applies here.  It is not possible to
simply cast a <CODE>char</CODE> type value to a <CODE>wint_t</CODE> and use it as an
argument for <CODE>towctrans</CODE> calls.
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_61.html">previous</A>, <A HREF="libc_63.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
