<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Allocating Cleared Space</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_26.html">previous</A>, <A HREF="libc_28.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC27" HREF="libc_toc.html#TOC27">Allocating Cleared Space</A></H3>

<P>
The function <CODE>calloc</CODE> allocates memory and clears it to zero.  It
is declared in <TT>`stdlib.h'</TT>.
<A NAME="IDX228"></A>

</P>
<P>
<DL>
<DT><U>Function:</U> void * <B>calloc</B> <I>(size_t <VAR>count</VAR>, size_t <VAR>eltsize</VAR>)</I>
<DD><A NAME="IDX229"></A>
This function allocates a block long enough to contain a vector of
<VAR>count</VAR> elements, each of size <VAR>eltsize</VAR>.  Its contents are
cleared to zero before <CODE>calloc</CODE> returns.
</DL>

</P>
<P>
You could define <CODE>calloc</CODE> as follows:

</P>

<PRE>
void *
calloc (size_t count, size_t eltsize)
{
  size_t size = count * eltsize;
  void *value = malloc (size);
  if (value != 0)
    memset (value, 0, size);
  return value;
}
</PRE>

<P>
But in general, it is not guaranteed that <CODE>calloc</CODE> calls
<CODE>malloc</CODE> internally.  Therefore, if an application provides its own
<CODE>malloc</CODE>/<CODE>realloc</CODE>/<CODE>free</CODE> outside the C library, it
should always define <CODE>calloc</CODE>, too.

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_26.html">previous</A>, <A HREF="libc_28.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
