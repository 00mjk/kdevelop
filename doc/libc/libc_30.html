<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Malloc Tunable Parameters</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_29.html">previous</A>, <A HREF="libc_31.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC30" HREF="libc_toc.html#TOC30">Malloc Tunable Parameters</A></H3>

<P>
You can adjust some parameters for dynamic memory allocation with the
<CODE>mallopt</CODE> function.  This function is the general SVID/XPG
interface, defined in <TT>`malloc.h'</TT>.
<A NAME="IDX236"></A>

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>mallopt</B> <I>(int <VAR>param</VAR>, int <VAR>value</VAR>)</I>
<DD><A NAME="IDX237"></A>
When calling <CODE>mallopt</CODE>, the <VAR>param</VAR> argument specifies the
parameter to be set, and <VAR>value</VAR> the new value to be set.  Possible
choices for <VAR>param</VAR>, as defined in <TT>`malloc.h'</TT>, are:

</P>
<DL COMPACT>

<DT><CODE>M_TRIM_THRESHOLD</CODE>
<DD>
This is the minimum size (in bytes) of the top-most, releaseable chunk
that will cause <CODE>sbrk</CODE> to be called with a negative argument in
order to return memory to the system.
<DT><CODE>M_TOP_PAD</CODE>
<DD>
This parameter determines the amount of extra memory to obtain from the
system when a call to <CODE>sbrk</CODE> is required.  It also specifies the
number of bytes to retain when shrinking the heap by calling <CODE>sbrk</CODE>
with a negative argument.  This provides the necessary hysteresis in
heap size such that excessive amounts of system calls can be avoided.
<DT><CODE>M_MMAP_THRESHOLD</CODE>
<DD>
All chunks larger than this value are allocated outside the normal
heap, using the <CODE>mmap</CODE> system call.  This way it is guaranteed
that the memory for these chunks can be returned to the system on
<CODE>free</CODE>.
<DT><CODE>M_MMAP_MAX</CODE>
<DD>
The maximum number of chunks to allocate with <CODE>mmap</CODE>.  Setting this
to zero disables all use of <CODE>mmap</CODE>.
</DL>

</DL>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_29.html">previous</A>, <A HREF="libc_31.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
