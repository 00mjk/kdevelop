<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Integer Conversions</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_170.html">previous</A>, <A HREF="libc_172.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC178" HREF="libc_toc.html#TOC178">Integer Conversions</A></H3>

<P>
This section describes the options for the <SAMP>`%d'</SAMP>, <SAMP>`%i'</SAMP>,
<SAMP>`%o'</SAMP>, <SAMP>`%u'</SAMP>, <SAMP>`%x'</SAMP>, and <SAMP>`%X'</SAMP> conversion
specifications.  These conversions print integers in various formats.

</P>
<P>
The <SAMP>`%d'</SAMP> and <SAMP>`%i'</SAMP> conversion specifications both print an
<CODE>int</CODE> argument as a signed decimal number; while <SAMP>`%o'</SAMP>,
<SAMP>`%u'</SAMP>, and <SAMP>`%x'</SAMP> print the argument as an unsigned octal,
decimal, or hexadecimal number (respectively).  The <SAMP>`%X'</SAMP> conversion
specification is just like <SAMP>`%x'</SAMP> except that it uses the characters
<SAMP>`ABCDEF'</SAMP> as digits instead of <SAMP>`abcdef'</SAMP>.

</P>
<P>
The following flags are meaningful:

</P>
<DL COMPACT>

<DT><SAMP>`-'</SAMP>
<DD>
Left-justify the result in the field (instead of the normal
right-justification).

<DT><SAMP>`+'</SAMP>
<DD>
For the signed <SAMP>`%d'</SAMP> and <SAMP>`%i'</SAMP> conversions, print a
plus sign if the value is positive.

<DT><SAMP>` '</SAMP>
<DD>
For the signed <SAMP>`%d'</SAMP> and <SAMP>`%i'</SAMP> conversions, if the result
doesn't start with a plus or minus sign, prefix it with a space
character instead.  Since the <SAMP>`+'</SAMP> flag ensures that the result
includes a sign, this flag is ignored if you supply both of them.

<DT><SAMP>`#'</SAMP>
<DD>
For the <SAMP>`%o'</SAMP> conversion, this forces the leading digit to be
<SAMP>`0'</SAMP>, as if by increasing the precision.  For <SAMP>`%x'</SAMP> or
<SAMP>`%X'</SAMP>, this prefixes a leading <SAMP>`0x'</SAMP> or <SAMP>`0X'</SAMP> (respectively)
to the result.  This doesn't do anything useful for the <SAMP>`%d'</SAMP>,
<SAMP>`%i'</SAMP>, or <SAMP>`%u'</SAMP> conversions.  Using this flag produces output
which can be parsed by the <CODE>strtoul</CODE> function (see section <A HREF="libc_389.html#SEC396">Parsing of Integers</A>) and <CODE>scanf</CODE> with the <SAMP>`%i'</SAMP> conversion
(see section <A HREF="libc_189.html#SEC196">Numeric Input Conversions</A>).

<DT><SAMP>`''</SAMP>
<DD>
Separate the digits into groups as specified by the locale specified for
the <CODE>LC_NUMERIC</CODE> category; see section <A HREF="libc_102.html#SEC106">Generic Numeric Formatting Parameters</A>.  This flag is a
GNU extension.

<DT><SAMP>`0'</SAMP>
<DD>
Pad the field with zeros instead of spaces.  The zeros are placed after
any indication of sign or base.  This flag is ignored if the <SAMP>`-'</SAMP>
flag is also specified, or if a precision is specified.
</DL>

<P>
If a precision is supplied, it specifies the minimum number of digits to
appear; leading zeros are produced if necessary.  If you don't specify a
precision, the number is printed with as many digits as it needs.  If
you convert a value of zero with an explicit precision of zero, then no
characters at all are produced.

</P>
<P>
Without a type modifier, the corresponding argument is treated as an
<CODE>int</CODE> (for the signed conversions <SAMP>`%i'</SAMP> and <SAMP>`%d'</SAMP>) or
<CODE>unsigned int</CODE> (for the unsigned conversions <SAMP>`%o'</SAMP>, <SAMP>`%u'</SAMP>,
<SAMP>`%x'</SAMP>, and <SAMP>`%X'</SAMP>).  Recall that since <CODE>printf</CODE> and friends
are variadic, any <CODE>char</CODE> and <CODE>short</CODE> arguments are
automatically converted to <CODE>int</CODE> by the default argument
promotions.  For arguments of other integer types, you can use these
modifiers:

</P>
<DL COMPACT>

<DT><SAMP>`hh'</SAMP>
<DD>
Specifies that the argument is a <CODE>signed char</CODE> or <CODE>unsigned
char</CODE>, as appropriate.  A <CODE>char</CODE> argument is converted to an
<CODE>int</CODE> or <CODE>unsigned int</CODE> by the default argument promotions
anyway, but the <SAMP>`h'</SAMP> modifier says to convert it back to a
<CODE>char</CODE> again.

This modifier was introduced in ISO C 9x.

<DT><SAMP>`h'</SAMP>
<DD>
Specifies that the argument is a <CODE>short int</CODE> or <CODE>unsigned
short int</CODE>, as appropriate.  A <CODE>short</CODE> argument is converted to an
<CODE>int</CODE> or <CODE>unsigned int</CODE> by the default argument promotions
anyway, but the <SAMP>`h'</SAMP> modifier says to convert it back to a
<CODE>short</CODE> again.

<DT><SAMP>`j'</SAMP>
<DD>
Specifies that the argument is a <CODE>intmax_t</CODE> or <CODE>uintmax_t</CODE>, as
appropriate.

This modifier was introduced in ISO C 9x.

<DT><SAMP>`l'</SAMP>
<DD>
Specifies that the argument is a <CODE>long int</CODE> or <CODE>unsigned long
int</CODE>, as appropriate.  Two <SAMP>`l'</SAMP> characters is like the <SAMP>`L'</SAMP>
modifier, below.

<DT><SAMP>`L'</SAMP>
<DD>
<DT><SAMP>`ll'</SAMP>
<DD>
<DT><SAMP>`q'</SAMP>
<DD>
Specifies that the argument is a <CODE>long long int</CODE>.  (This type is
an extension supported by the GNU C compiler.  On systems that don't
support extra-long integers, this is the same as <CODE>long int</CODE>.)

The <SAMP>`q'</SAMP> modifier is another name for the same thing, which comes
from 4.4 BSD; a <CODE>long long int</CODE> is sometimes called a "quad"
<CODE>int</CODE>.

<DT><SAMP>`t'</SAMP>
<DD>
Specifies that the argument is a <CODE>ptrdiff_t</CODE>.

This modifier was introduced in ISO C 9x.

<DT><SAMP>`z'</SAMP>
<DD>
<DT><SAMP>`Z'</SAMP>
<DD>
Specifies that the argument is a <CODE>size_t</CODE>.

<SAMP>`z'</SAMP> was introduced in ISO C 9x.  <SAMP>`Z'</SAMP> is a GNU extension
predating this addition and should not be used anymore in new code.
</DL>

<P>
Here is an example.  Using the template string:

</P>

<PRE>
"|%5d|%-5d|%+5d|%+-5d|% 5d|%05d|%5.0d|%5.2d|%d|\n"
</PRE>

<P>
to print numbers using the different options for the <SAMP>`%d'</SAMP>
conversion gives results like:

</P>

<PRE>
|    0|0    |   +0|+0   |    0|00000|     |   00|0|
|    1|1    |   +1|+1   |    1|00001|    1|   01|1|
|   -1|-1   |   -1|-1   |   -1|-0001|   -1|  -01|-1|
|100000|100000|+100000| 100000|100000|100000|100000|100000|
</PRE>

<P>
In particular, notice what happens in the last case where the number
is too large to fit in the minimum field width specified.

</P>
<P>
Here are some more examples showing how unsigned integers print under
various format options, using the template string:

</P>

<PRE>
"|%5u|%5o|%5x|%5X|%#5o|%#5x|%#5X|%#10.8x|\n"
</PRE>


<PRE>
|    0|    0|    0|    0|    0|  0x0|  0X0|0x00000000|
|    1|    1|    1|    1|   01|  0x1|  0X1|0x00000001|
|100000|303240|186a0|186A0|0303240|0x186a0|0X186A0|0x000186a0|
</PRE>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_170.html">previous</A>, <A HREF="libc_172.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
