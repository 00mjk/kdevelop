<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Math Error Reporting</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_373.html">previous</A>, <A HREF="libc_375.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC381" HREF="libc_toc.html#TOC381">Error Reporting by Mathematical Functions</A></H3>
<P>
<A NAME="IDX2078"></A>
<A NAME="IDX2079"></A>
<A NAME="IDX2080"></A>

</P>
<P>
Many of the math functions are defined only over a subset of the real or
complex numbers.  Even if they are mathematically defined, their result
may be larger or smaller than the range representable by their return
type.  These are known as <STRONG>domain errors</STRONG>, <STRONG>overflows</STRONG>, and
<STRONG>underflows</STRONG>, respectively.  Math functions do several things when
one of these errors occurs.  In this manual we will refer to the
complete response as <STRONG>signalling</STRONG> a domain error, overflow, or
underflow.

</P>
<P>
When a math function suffers a domain error, it raises the invalid
exception and returns NaN.  It also sets <VAR>errno</VAR> to <CODE>EDOM</CODE>;
this is for compatibility with old systems that do not support IEEE
754 exception handling.  Likewise, when overflow occurs, math
functions raise the overflow exception and return @math{@infinity{}} or
@math{-@infinity{}} as appropriate.  They also set <VAR>errno</VAR> to
<CODE>ERANGE</CODE>.  When underflow occurs, the underflow exception is
raised, and zero (appropriately signed) is returned.  <VAR>errno</VAR> may be
set to <CODE>ERANGE</CODE>, but this is not guaranteed.

</P>
<P>
Some of the math functions are defined mathematically to result in a
complex value over parts of their domains.  The most familiar example of
this is taking the square root of a negative number.  The complex math
functions, such as <CODE>csqrt</CODE>, will return the appropriate complex value
in this case.  The real-valued functions, such as <CODE>sqrt</CODE>, will
signal a domain error.

</P>
<P>
Some older hardware does not support infinities.  On that hardware,
overflows instead return a particular very large number (usually the
largest representable number).  <TT>`math.h'</TT> defines macros you can use
to test for overflow on both old and new hardware.

</P>
<P>
<DL>
<DT><U>Macro:</U> double <B>HUGE_VAL</B>
<DD><A NAME="IDX2081"></A>
<DT><U>Macro:</U> float <B>HUGE_VALF</B>
<DD><A NAME="IDX2082"></A>
<DT><U>Macro:</U> long double <B>HUGE_VALL</B>
<DD><A NAME="IDX2083"></A>
An expression representing a particular very large number.  On machines
that use IEEE 754 floating point format, <CODE>HUGE_VAL</CODE> is infinity.
On other machines, it's typically the largest positive number that can
be represented.

</P>
<P>
Mathematical functions return the appropriately typed version of
<CODE>HUGE_VAL</CODE> or <CODE>-HUGE_VAL</CODE> when the result is too large
to be represented.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_373.html">previous</A>, <A HREF="libc_375.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
