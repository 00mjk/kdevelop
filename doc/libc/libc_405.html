<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Time Zone Functions</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_404.html">previous</A>, <A HREF="libc_406.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC412" HREF="libc_toc.html#TOC412">Functions and Variables for Time Zones</A></H3>

<P>
<DL>
<DT><U>Variable:</U> char * <B>tzname</B> <I>[2]</I>
<DD><A NAME="IDX2344"></A>
The array <CODE>tzname</CODE> contains two strings, which are the standard
names of the pair of time zones (standard and daylight
saving) that the user has selected.  <CODE>tzname[0]</CODE> is the name of
the standard time zone (for example, <CODE>"EST"</CODE>), and <CODE>tzname[1]</CODE>
is the name for the time zone when daylight saving time is in use (for
example, <CODE>"EDT"</CODE>).  These correspond to the <VAR>std</VAR> and <VAR>dst</VAR>
strings (respectively) from the <CODE>TZ</CODE> environment variable.  If
daylight saving time is never used, <CODE>tzname[1]</CODE> is the empty string.

</P>
<P>
The <CODE>tzname</CODE> array is initialized from the <CODE>TZ</CODE> environment
variable whenever <CODE>tzset</CODE>, <CODE>ctime</CODE>, <CODE>strftime</CODE>,
<CODE>mktime</CODE>, or <CODE>localtime</CODE> is called.  If multiple abbreviations
have been used (e.g. <CODE>"EWT"</CODE> and <CODE>"EDT"</CODE> for U.S. Eastern War
Time and Eastern Daylight Time), the array contains the most recent
abbreviation.

</P>
<P>
The <CODE>tzname</CODE> array is required for POSIX.1 compatibility, but in
GNU programs it is better to use the <CODE>tm_zone</CODE> member of the
broken-down time structure, since <CODE>tm_zone</CODE> reports the correct
abbreviation even when it is not the latest one.

</P>
<P>
Though the strings are declared as <CODE>char *</CODE> the user must stay away
from modifying these strings.  Modifying the strings will almost certainly
lead to trouble.

</P>
</DL>

<P>
<DL>
<DT><U>Function:</U> void <B>tzset</B> <I>(void)</I>
<DD><A NAME="IDX2345"></A>
The <CODE>tzset</CODE> function initializes the <CODE>tzname</CODE> variable from
the value of the <CODE>TZ</CODE> environment variable.  It is not usually
necessary for your program to call this function, because it is called
automatically when you use the other time conversion functions that
depend on the time zone.
</DL>

</P>
<P>
The following variables are defined for compatibility with System V
Unix.  Like <CODE>tzname</CODE>, these variables are set by calling
<CODE>tzset</CODE> or the other time conversion functions.

</P>
<P>
<DL>
<DT><U>Variable:</U> long int <B>timezone</B>
<DD><A NAME="IDX2346"></A>
This contains the difference between UTC and the latest local standard
time, in seconds west of UTC.  For example, in the U.S. Eastern time
zone, the value is <CODE>5*60*60</CODE>.  Unlike the <CODE>tm_gmtoff</CODE> member
of the broken-down time structure, this value is not adjusted for
daylight saving, and its sign is reversed.  In GNU programs it is better
to use <CODE>tm_gmtoff</CODE>, since it contains the correct offset even when
it is not the latest one.
</DL>

</P>
<P>
<DL>
<DT><U>Variable:</U> int <B>daylight</B>
<DD><A NAME="IDX2347"></A>
This variable has a nonzero value if daylight savings time rules apply.
A nonzero value does not necessarily mean that daylight savings time is
now in effect; it means only that daylight savings time is sometimes in
effect.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_404.html">previous</A>, <A HREF="libc_406.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
