<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Attribute Meanings</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_260.html">previous</A>, <A HREF="libc_262.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC268" HREF="libc_toc.html#TOC268">What the File Attribute Values Mean</A></H3>
<P>
<A NAME="IDX1254"></A>
<A NAME="IDX1255"></A>
<A NAME="IDX1256"></A>

</P>
<P>
When you read the attributes of a file, they come back in a structure
called <CODE>struct stat</CODE>.  This section describes the names of the
attributes, their data types, and what they mean.  For the functions
to read the attributes of a file, see section <A HREF="libc_262.html#SEC269">Reading the Attributes of a File</A>.

</P>
<P>
The header file <TT>`sys/stat.h'</TT> declares all the symbols defined
in this section.
<A NAME="IDX1257"></A>

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>struct stat</B>
<DD><A NAME="IDX1258"></A>
The <CODE>stat</CODE> structure type is used to return information about the
attributes of a file.  It contains at least the following members:

</P>
<DL COMPACT>

<DT><CODE>mode_t st_mode</CODE>
<DD>
Specifies the mode of the file.  This includes file type information
(see section <A HREF="libc_263.html#SEC270">Testing the Type of a File</A>) and the file permission bits
(see section <A HREF="libc_265.html#SEC272">The Mode Bits for Access Permission</A>).

<DT><CODE>ino_t st_ino</CODE>
<DD>
The file serial number, which distinguishes this file from all other
files on the same device.

<DT><CODE>dev_t st_dev</CODE>
<DD>
Identifies the device containing the file.  The <CODE>st_ino</CODE> and
<CODE>st_dev</CODE>, taken together, uniquely identify the file.  The
<CODE>st_dev</CODE> value is not necessarily consistent across reboots or
system crashes, however.

<DT><CODE>nlink_t st_nlink</CODE>
<DD>
The number of hard links to the file.  This count keeps track of how
many directories have entries for this file.  If the count is ever
decremented to zero, then the file itself is discarded as soon as no
process still holds it open.  Symbolic links are not counted in the
total.

<DT><CODE>uid_t st_uid</CODE>
<DD>
The user ID of the file's owner.  See section <A HREF="libc_264.html#SEC271">File Owner</A>.

<DT><CODE>gid_t st_gid</CODE>
<DD>
The group ID of the file.  See section <A HREF="libc_264.html#SEC271">File Owner</A>.

<DT><CODE>off_t st_size</CODE>
<DD>
This specifies the size of a regular file in bytes.  For files that
are really devices and the like, this field isn't usually meaningful.
For symbolic links, this specifies the length of the file name the link
refers to.

<DT><CODE>time_t st_atime</CODE>
<DD>
This is the last access time for the file.  See section <A HREF="libc_269.html#SEC276">File Times</A>.

<DT><CODE>unsigned long int st_atime_usec</CODE>
<DD>
This is the fractional part of the last access time for the file.
See section <A HREF="libc_269.html#SEC276">File Times</A>.

<DT><CODE>time_t st_mtime</CODE>
<DD>
This is the time of the last modification to the contents of the file.
See section <A HREF="libc_269.html#SEC276">File Times</A>.

<DT><CODE>unsigned long int st_mtime_usec</CODE>
<DD>
This is the fractional part of the time of last modification to the
contents of the file.  See section <A HREF="libc_269.html#SEC276">File Times</A>.

<DT><CODE>time_t st_ctime</CODE>
<DD>
This is the time of the last modification to the attributes of the file.
See section <A HREF="libc_269.html#SEC276">File Times</A>.

<DT><CODE>unsigned long int st_ctime_usec</CODE>
<DD>
This is the fractional part of the time of last modification to the
attributes of the file.  See section <A HREF="libc_269.html#SEC276">File Times</A>.

<DT><CODE>blkcnt_t st_blocks</CODE>
<DD>
This is the amount of disk space that the file occupies, measured in
units of 512-byte blocks.

The number of disk blocks is not strictly proportional to the size of
the file, for two reasons: the file system may use some blocks for
internal record keeping; and the file may be sparse--it may have
"holes" which contain zeros but do not actually take up space on the
disk.

You can tell (approximately) whether a file is sparse by comparing this
value with <CODE>st_size</CODE>, like this:


<PRE>
(st.st_blocks * 512 &#60; st.st_size)
</PRE>

This test is not perfect because a file that is just slightly sparse
might not be detected as sparse at all.  For practical applications,
this is not a problem.

<DT><CODE>unsigned int st_blksize</CODE>
<DD>
The optimal block size for reading of writing this file, in bytes.  You
might use this size for allocating the buffer space for reading of
writing the file.  (This is unrelated to <CODE>st_blocks</CODE>.)
</DL>
</DL>

<P>
The extensions for the Large File Support (LFS) require even on 32 bits
machine types which can handle file sizes up to @math{2^63}.  Therefore
a new definition of <CODE>struct stat</CODE> is necessary.

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>struct stat64</B>
<DD><A NAME="IDX1259"></A>
The members of this type are the same and have the same names as those
in <CODE>struct stat</CODE>.  The only difference is that the members
<CODE>st_ino</CODE>, <CODE>st_size</CODE>, and <CODE>st_blocks</CODE> have a different
type to support larger values.

</P>
<DL COMPACT>

<DT><CODE>mode_t st_mode</CODE>
<DD>
Specifies the mode of the file.  This includes file type information
(see section <A HREF="libc_263.html#SEC270">Testing the Type of a File</A>) and the file permission bits
(see section <A HREF="libc_265.html#SEC272">The Mode Bits for Access Permission</A>).

<DT><CODE>ino64_t st_ino</CODE>
<DD>
The file serial number, which distinguishes this file from all other
files on the same device.

<DT><CODE>dev_t st_dev</CODE>
<DD>
Identifies the device containing the file.  The <CODE>st_ino</CODE> and
<CODE>st_dev</CODE>, taken together, uniquely identify the file.  The
<CODE>st_dev</CODE> value is not necessarily consistent across reboots or
system crashes, however.

<DT><CODE>nlink_t st_nlink</CODE>
<DD>
The number of hard links to the file.  This count keeps track of how
many directories have entries for this file.  If the count is ever
decremented to zero, then the file itself is discarded as soon as no
process still holds it open.  Symbolic links are not counted in the
total.

<DT><CODE>uid_t st_uid</CODE>
<DD>
The user ID of the file's owner.  See section <A HREF="libc_264.html#SEC271">File Owner</A>.

<DT><CODE>gid_t st_gid</CODE>
<DD>
The group ID of the file.  See section <A HREF="libc_264.html#SEC271">File Owner</A>.

<DT><CODE>off64_t st_size</CODE>
<DD>
This specifies the size of a regular file in bytes.  For files that
are really devices and the like, this field isn't usually meaningful.
For symbolic links, this specifies the length of the file name the link
refers to.

<DT><CODE>time_t st_atime</CODE>
<DD>
This is the last access time for the file.  See section <A HREF="libc_269.html#SEC276">File Times</A>.

<DT><CODE>unsigned long int st_atime_usec</CODE>
<DD>
This is the fractional part of the last access time for the file.
See section <A HREF="libc_269.html#SEC276">File Times</A>.

<DT><CODE>time_t st_mtime</CODE>
<DD>
This is the time of the last modification to the contents of the file.
See section <A HREF="libc_269.html#SEC276">File Times</A>.

<DT><CODE>unsigned long int st_mtime_usec</CODE>
<DD>
This is the fractional part of the time of last modification to the
contents of the file.  See section <A HREF="libc_269.html#SEC276">File Times</A>.

<DT><CODE>time_t st_ctime</CODE>
<DD>
This is the time of the last modification to the attributes of the file.
See section <A HREF="libc_269.html#SEC276">File Times</A>.

<DT><CODE>unsigned long int st_ctime_usec</CODE>
<DD>
This is the fractional part of the time of last modification to the
attributes of the file.  See section <A HREF="libc_269.html#SEC276">File Times</A>.

<DT><CODE>blkcnt64_t st_blocks</CODE>
<DD>
This is the amount of disk space that the file occupies, measured in
units of 512-byte blocks.

<DT><CODE>unsigned int st_blksize</CODE>
<DD>
The optimal block size for reading of writing this file, in bytes.  You
might use this size for allocating the buffer space for reading of
writing the file.  (This is unrelated to <CODE>st_blocks</CODE>.)
</DL>
</DL>

<P>
Some of the file attributes have special data type names which exist
specifically for those attributes.  (They are all aliases for well-known
integer types that you know and love.)  These typedef names are defined
in the header file <TT>`sys/types.h'</TT> as well as in <TT>`sys/stat.h'</TT>.
Here is a list of them.

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>mode_t</B>
<DD><A NAME="IDX1260"></A>
This is an integer data type used to represent file modes.  In the
GNU system, this is equivalent to <CODE>unsigned int</CODE>.
</DL>

</P>
<P>
<A NAME="IDX1261"></A>
<DL>
<DT><U>Data Type:</U> <B>ino_t</B>
<DD><A NAME="IDX1262"></A>
This is an arithmetic data type used to represent file serial numbers.
(In Unix jargon, these are sometimes called <STRONG>inode numbers</STRONG>.)
In the GNU system, this type is equivalent to <CODE>unsigned long int</CODE>.

</P>
<P>
If the source is compiled with <CODE>_FILE_OFFSET_BITS == 64</CODE> this type
is transparently replaced by <CODE>ino64_t</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>ino64_t</B>
<DD><A NAME="IDX1263"></A>
This is an arithmetic data type used to represent file serial numbers
for the use in LFS.  In the GNU system, this type is equivalent to
<CODE>unsigned long longint</CODE>.

</P>
<P>
When compiling with <CODE>_FILE_OFFSET_BITS == 64</CODE> this type is
available under the name <CODE>ino_t</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>dev_t</B>
<DD><A NAME="IDX1264"></A>
This is an arithmetic data type used to represent file device numbers.
In the GNU system, this is equivalent to <CODE>int</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>nlink_t</B>
<DD><A NAME="IDX1265"></A>
This is an arithmetic data type used to represent file link counts.
In the GNU system, this is equivalent to <CODE>unsigned short int</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>blkcnt_t</B>
<DD><A NAME="IDX1266"></A>
This is an arithmetic data type used to represent block counts.
In the GNU system, this is equivalent to <CODE>unsigned long int</CODE>.

</P>
<P>
If the source is compiled with <CODE>_FILE_OFFSET_BITS == 64</CODE> this type
is transparently replaced by <CODE>blkcnt64_t</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>blkcnt64_t</B>
<DD><A NAME="IDX1267"></A>
This is an arithmetic data type used to represent block counts for the
use in LFS.  In the GNU system, this is equivalent to <CODE>unsigned
long long int</CODE>.

</P>
<P>
When compiling with <CODE>_FILE_OFFSET_BITS == 64</CODE> this type is
available under the name <CODE>blkcnt_t</CODE>.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_260.html">previous</A>, <A HREF="libc_262.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
