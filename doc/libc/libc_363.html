<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - ISO Random</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_362.html">previous</A>, <A HREF="libc_364.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC370" HREF="libc_toc.html#TOC370">ISO C Random Number Functions</A></H3>

<P>
This section describes the random number functions that are part of
the ISO C standard.

</P>
<P>
To use these facilities, you should include the header file
<TT>`stdlib.h'</TT> in your program.
<A NAME="IDX2001"></A>

</P>
<P>
<DL>
<DT><U>Macro:</U> int <B>RAND_MAX</B>
<DD><A NAME="IDX2002"></A>
The value of this macro is an integer constant representing the largest
value the <CODE>rand</CODE> function can return.  In the GNU library, it is
<CODE>2147483647</CODE>, which is the largest signed integer representable in
32 bits.  In other libraries, it may be as low as <CODE>32767</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>rand</B> <I>(void)</I>
<DD><A NAME="IDX2003"></A>
The <CODE>rand</CODE> function returns the next pseudo-random number in the
series.  The value ranges from <CODE>0</CODE> to <CODE>RAND_MAX</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> void <B>srand</B> <I>(unsigned int <VAR>seed</VAR>)</I>
<DD><A NAME="IDX2004"></A>
This function establishes <VAR>seed</VAR> as the seed for a new series of
pseudo-random numbers.  If you call <CODE>rand</CODE> before a seed has been
established with <CODE>srand</CODE>, it uses the value <CODE>1</CODE> as a default
seed.

</P>
<P>
To produce a different pseudo-random series each time your program is
run, do <CODE>srand (time (0))</CODE>.
</DL>

</P>
<P>
POSIX.1 extended the C standard functions to support reproducible random
numbers in multi-threaded programs.  However, the extension is badly
designed and unsuitable for serious work.

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>rand_r</B> <I>(unsigned int *<VAR>seed</VAR>)</I>
<DD><A NAME="IDX2005"></A>
This function returns a random number in the range 0 to <CODE>RAND_MAX</CODE>
just as <CODE>rand</CODE> does.  However, all its state is stored in the
<VAR>seed</VAR> argument.  This means the RNG's state can only have as many
bits as the type <CODE>unsigned int</CODE> has.  This is far too few to
provide a good RNG.

</P>
<P>
If your program requires a reentrant RNG, we recommend you use the
reentrant GNU extensions to the SVID random number generator.  The
POSIX.1 interface should only be used when the GNU extensions are not
available.
</DL>

</P>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_362.html">previous</A>, <A HREF="libc_364.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
