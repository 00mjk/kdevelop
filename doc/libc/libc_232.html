<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Configuration of AIO</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_231.html">previous</A>, <A HREF="libc_233.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC239" HREF="libc_toc.html#TOC239">How to optimize the AIO implementation</A></H3>

<P>
The POSIX standard does not specify how the AIO functions are
implemented.  They could be system calls but it is also possible to
emulate them at userlevel.

</P>
<P>
At least the available implementation at the point of this writing is a
userlevel implementation which uses threads for handling the enqueued
requests.  This implementation requires to make some decisions about
limitations but hard limitations are something which better should be
avoided the GNU C library implementation provides a mean to tune the AIO
implementation individually for each use.

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>struct aioinit</B>
<DD><A NAME="IDX1090"></A>
This data type is used to pass the configuration or tunable parameters
to the implementation.  The program has to initialize the members of
this struct and pass it to the implementation using the <CODE>aio_init</CODE>
function.

</P>
<DL COMPACT>

<DT><CODE>int aio_threads</CODE>
<DD>
This member specifies the maximal number of threads which must be used
at any one time.
<DT><CODE>int aio_num</CODE>
<DD>
This number provides an estimate on the maximal number of simultaneously
enqueued requests.
<DT><CODE>int aio_locks</CODE>
<DD>
<DT><CODE>int aio_usedba</CODE>
<DD>
<DT><CODE>int aio_debug</CODE>
<DD>
<DT><CODE>int aio_numusers</CODE>
<DD>
<DT><CODE>int aio_reserved[2]</CODE>
<DD>
</DL>
</DL>

<P>
<DL>
<DT><U>Function:</U> void <B>aio_init</B> <I>(const struct aioinit *<VAR>init</VAR>)</I>
<DD><A NAME="IDX1091"></A>
This function must be called before any other AIO function.  Calling it
is completely voluntarily since it only is meant to help the AIO
implementation to perform better.

</P>
<P>
Before calling the <CODE>aio_init</CODE> function the members of a variable of
type <CODE>struct aioinit</CODE> must be initialized.  Then a reference to
this variable is passed as the parameter to <CODE>aio_init</CODE> which itself
may or may not pay attention to the hints.

</P>
<P>
The function has no return value and no error cases are defined.  It is
a extension which follows a proposal from the SGI implementation in
Irix 6.  It is not covered by POSIX.1b or Unix98.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_231.html">previous</A>, <A HREF="libc_233.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
