<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Directory Entries</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_246.html">previous</A>, <A HREF="libc_248.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC254" HREF="libc_toc.html#TOC254">Format of a Directory Entry</A></H3>

<P>
<A NAME="IDX1178"></A>
This section describes what you find in a single directory entry, as you
might obtain it from a directory stream.  All the symbols are declared
in the header file <TT>`dirent.h'</TT>.

</P>
<P>
<DL>
<DT><U>Data Type:</U> <B>struct dirent</B>
<DD><A NAME="IDX1179"></A>
This is a structure type used to return information about directory
entries.  It contains the following fields:

</P>
<DL COMPACT>

<DT><CODE>char d_name[]</CODE>
<DD>
This is the null-terminated file name component.  This is the only
field you can count on in all POSIX systems.

<DT><CODE>ino_t d_fileno</CODE>
<DD>
This is the file serial number.  For BSD compatibility, you can also
refer to this member as <CODE>d_ino</CODE>.  In the GNU system and most POSIX
systems, for most files this the same as the <CODE>st_ino</CODE> member that
<CODE>stat</CODE> will return for the file.  See section <A HREF="libc_260.html#SEC267">File Attributes</A>.

<DT><CODE>unsigned char d_namlen</CODE>
<DD>
This is the length of the file name, not including the terminating null
character.  Its type is <CODE>unsigned char</CODE> because that is the integer
type of the appropriate size

<DT><CODE>unsigned char d_type</CODE>
<DD>
This is the type of the file, possibly unknown.  The following constants
are defined for its value:

<DL COMPACT>

<DT><CODE>DT_UNKNOWN</CODE>
<DD>
The type is unknown.  On some systems this is the only value returned.

<DT><CODE>DT_REG</CODE>
<DD>
A regular file.

<DT><CODE>DT_DIR</CODE>
<DD>
A directory.

<DT><CODE>DT_FIFO</CODE>
<DD>
A named pipe, or FIFO.  See section <A HREF="libc_276.html#SEC283">FIFO Special Files</A>.

<DT><CODE>DT_SOCK</CODE>
<DD>
A local-domain socket.  

<DT><CODE>DT_CHR</CODE>
<DD>
A character device.

<DT><CODE>DT_BLK</CODE>
<DD>
A block device.
</DL>

This member is a BSD extension.  On systems where it is used, it
corresponds to the file type bits in the <CODE>st_mode</CODE> member of
<CODE>struct statbuf</CODE>.  On other systems it will always be DT_UNKNOWN.
These two macros convert between <CODE>d_type</CODE> values and <CODE>st_mode</CODE>
values:

<DL>
<DT><U>Function:</U> int <B>IFTODT</B> <I>(mode_t <VAR>mode</VAR>)</I>
<DD><A NAME="IDX1180"></A>
This returns the <CODE>d_type</CODE> value corresponding to <VAR>mode</VAR>.
</DL>

<DL>
<DT><U>Function:</U> mode_t <B>DTTOIF</B> <I>(int <VAR>dtype</VAR>)</I>
<DD><A NAME="IDX1181"></A>
This returns the <CODE>st_mode</CODE> value corresponding to <VAR>dtype</VAR>.
</DL>
</DL>

<P>
This structure may contain additional members in the future.

</P>
<P>
When a file has multiple names, each name has its own directory entry.
The only way you can tell that the directory entries belong to a
single file is that they have the same value for the <CODE>d_fileno</CODE>
field.

</P>
<P>
File attributes such as size, modification times, and the like are part
of the file itself, not any particular directory entry.  See section <A HREF="libc_260.html#SEC267">File Attributes</A>.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_246.html">previous</A>, <A HREF="libc_248.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
