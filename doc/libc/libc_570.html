<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Lookup User</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_569.html">previous</A>, <A HREF="libc_571.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC578" HREF="libc_toc.html#TOC578">Looking Up One User</A></H3>
<P>
<A NAME="IDX2996"></A>
<A NAME="IDX2997"></A>

</P>
<P>
You can search the system user database for information about a
specific user using <CODE>getpwuid</CODE> or <CODE>getpwnam</CODE>.  These
functions are declared in <TT>`pwd.h'</TT>.

</P>
<P>
<DL>
<DT><U>Function:</U> struct passwd * <B>getpwuid</B> <I>(uid_t <VAR>uid</VAR>)</I>
<DD><A NAME="IDX2998"></A>
This function returns a pointer to a statically-allocated structure
containing information about the user whose user ID is <VAR>uid</VAR>.  This
structure may be overwritten on subsequent calls to <CODE>getpwuid</CODE>.

</P>
<P>
A null pointer value indicates there is no user in the data base with
user ID <VAR>uid</VAR>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>getpwuid_r</B> <I>(uid_t <VAR>uid</VAR>, struct passwd *<VAR>result_buf</VAR>, char *<VAR>buffer</VAR>, size_t <VAR>buflen</VAR>, struct passwd **<VAR>result</VAR>)</I>
<DD><A NAME="IDX2999"></A>
This function is similar to <CODE>getpwuid</CODE> in that it returns
information about the user whose user ID is <VAR>uid</VAR>.  However, it
fills the user supplied structure pointed to by <VAR>result_buf</VAR> with
the information instead of using a static buffer.  The first
<VAR>buflen</VAR> bytes of the additional buffer pointed to by <VAR>buffer</VAR>
are used to contain additional information, normally strings which are
pointed to by the elements of the result structure.

</P>
<P>
If a user with ID <VAR>uid</VAR> is found, the pointer returned in
<VAR>result</VAR> points to the record which contains the wanted data (i.e.,
<VAR>result</VAR> contains the value <VAR>result_buf</VAR>).  If no user is found
or if an error occurred, the pointer returned in <VAR>result</VAR> is a null
pointer.  The function returns zero or an error code.  If the buffer
<VAR>buffer</VAR> is too small to contain all the needed information, the
error code <CODE>ERANGE</CODE> is returned and <VAR>errno</VAR> is set to
<CODE>ERANGE</CODE>.
</DL>

</P>

<P>
<DL>
<DT><U>Function:</U> struct passwd * <B>getpwnam</B> <I>(const char *<VAR>name</VAR>)</I>
<DD><A NAME="IDX3000"></A>
This function returns a pointer to a statically-allocated structure
containing information about the user whose user name is <VAR>name</VAR>.
This structure may be overwritten on subsequent calls to
<CODE>getpwnam</CODE>.

</P>
<P>
A null pointer return indicates there is no user named <VAR>name</VAR>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>getpwnam_r</B> <I>(const char *<VAR>name</VAR>, struct passwd *<VAR>result_buf</VAR>, char *<VAR>buffer</VAR>, size_t <VAR>buflen</VAR>, struct passwd **<VAR>result</VAR>)</I>
<DD><A NAME="IDX3001"></A>
This function is similar to <CODE>getpwnam</CODE> in that is returns
information about the user whose user name is <VAR>name</VAR>.  However, like
<CODE>getpwuid_r</CODE>, it fills the user supplied buffers in
<VAR>result_buf</VAR> and <VAR>buffer</VAR> with the information instead of using
a static buffer.

</P>
<P>
The return values are the same as for <CODE>getpwuid_r</CODE>.
</DL>

</P>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_569.html">previous</A>, <A HREF="libc_571.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
