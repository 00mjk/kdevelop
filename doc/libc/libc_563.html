<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Who Logged In</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_562.html">previous</A>, <A HREF="libc_564.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC571" HREF="libc_toc.html#TOC571">Identifying Who Logged In</A></H2>
<P>
<A NAME="IDX2935"></A>
<A NAME="IDX2936"></A>

</P>
<P>
You can use the functions listed in this section to determine the login
name of the user who is running a process, and the name of the user who
logged in the current session.  See also the function <CODE>getuid</CODE> and
friends (see section <A HREF="libc_557.html#SEC565">Reading the Persona of a Process</A>).  How this information is collected by
the system and how to control/add/remove information from the background
storage is described in section <A HREF="libc_564.html#SEC572">The User Accounting Database</A>.

</P>
<P>
The <CODE>getlogin</CODE> function is declared in <TT>`unistd.h'</TT>, while
<CODE>cuserid</CODE> and <CODE>L_cuserid</CODE> are declared in <TT>`stdio.h'</TT>.
<A NAME="IDX2937"></A>
<A NAME="IDX2938"></A>

</P>
<P>
<DL>
<DT><U>Function:</U> char * <B>getlogin</B> <I>(void)</I>
<DD><A NAME="IDX2939"></A>
The <CODE>getlogin</CODE> function returns a pointer to a string containing the
name of the user logged in on the controlling terminal of the process,
or a null pointer if this information cannot be determined.  The string
is statically allocated and might be overwritten on subsequent calls to
this function or to <CODE>cuserid</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> char * <B>cuserid</B> <I>(char *<VAR>string</VAR>)</I>
<DD><A NAME="IDX2940"></A>
The <CODE>cuserid</CODE> function returns a pointer to a string containing a
user name associated with the effective ID of the process.  If
<VAR>string</VAR> is not a null pointer, it should be an array that can hold
at least <CODE>L_cuserid</CODE> characters; the string is returned in this
array.  Otherwise, a pointer to a string in a static area is returned.
This string is statically allocated and might be overwritten on
subsequent calls to this function or to <CODE>getlogin</CODE>.

</P>
<P>
The use of this function is deprecated since it is marked to be
withdrawn in XPG4.2 and has already been removed from newer revisions of
POSIX.1.
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> int <B>L_cuserid</B>
<DD><A NAME="IDX2941"></A>
An integer constant that indicates how long an array you might need to
store a user name.
</DL>

</P>
<P>
These functions let your program identify positively the user who is
running or the user who logged in this session.  (These can differ when
setuid programs are involved; see section <A HREF="libc_554.html#SEC562">The Persona of a Process</A>.)  The user cannot
do anything to fool these functions.

</P>
<P>
For most purposes, it is more useful to use the environment variable
<CODE>LOGNAME</CODE> to find out who the user is.  This is more flexible
precisely because the user can set <CODE>LOGNAME</CODE> arbitrarily.
See section <A HREF="libc_505.html#SEC513">Standard Environment Variables</A>.

</P>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_562.html">previous</A>, <A HREF="libc_564.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
