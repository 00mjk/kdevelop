<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Program Arguments</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_471.html">previous</A>, <A HREF="libc_473.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC479" HREF="libc_toc.html#TOC479">Program Arguments</A></H2>
<P>
<A NAME="IDX2616"></A>
<A NAME="IDX2617"></A>
<A NAME="IDX2618"></A>

</P>
<P>
<A NAME="IDX2619"></A>
<A NAME="IDX2620"></A>
<A NAME="IDX2621"></A>
<A NAME="IDX2622"></A>
<A NAME="IDX2623"></A>
The system starts a C program by calling the function <CODE>main</CODE>.  It
is up to you to write a function named <CODE>main</CODE>---otherwise, you
won't even be able to link your program without errors.

</P>
<P>
In ISO C you can define <CODE>main</CODE> either to take no arguments, or to
take two arguments that represent the command line arguments to the
program, like this:

</P>

<PRE>
int main (int <VAR>argc</VAR>, char *<VAR>argv</VAR>[])
</PRE>

<P>
<A NAME="IDX2624"></A>
<A NAME="IDX2625"></A>
The command line arguments are the whitespace-separated tokens given in
the shell command used to invoke the program; thus, in <SAMP>`cat foo
bar'</SAMP>, the arguments are <SAMP>`foo'</SAMP> and <SAMP>`bar'</SAMP>.  The only way a
program can look at its command line arguments is via the arguments of
<CODE>main</CODE>.  If <CODE>main</CODE> doesn't take arguments, then you cannot get
at the command line.

</P>
<P>
The value of the <VAR>argc</VAR> argument is the number of command line
arguments.  The <VAR>argv</VAR> argument is a vector of C strings; its
elements are the individual command line argument strings.  The file
name of the program being run is also included in the vector as the
first element; the value of <VAR>argc</VAR> counts this element.  A null
pointer always follows the last element: <CODE><VAR>argv</VAR>[<VAR>argc</VAR>]</CODE>
is this null pointer.

</P>
<P>
For the command <SAMP>`cat foo bar'</SAMP>, <VAR>argc</VAR> is 3 and <VAR>argv</VAR> has
three elements, <CODE>"cat"</CODE>, <CODE>"foo"</CODE> and <CODE>"bar"</CODE>.

</P>
<P>
In Unix systems you can define <CODE>main</CODE> a third way, using three arguments:

</P>

<PRE>
int main (int <VAR>argc</VAR>, char *<VAR>argv</VAR>[], char *<VAR>envp</VAR>)
</PRE>

<P>
The first two arguments are just the same.  The third argument
<VAR>envp</VAR> gives the process's environment; it is the same as the value
of <CODE>environ</CODE>.  See section <A HREF="libc_503.html#SEC511">Environment Variables</A>.  POSIX.1 does not
allow this three-argument form, so to be portable it is best to write
<CODE>main</CODE> to take two arguments, and use the value of <CODE>environ</CODE>.

</P>

<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_471.html">previous</A>, <A HREF="libc_473.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
