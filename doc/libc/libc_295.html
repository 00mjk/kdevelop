<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Host Address Functions</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_294.html">previous</A>, <A HREF="libc_296.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H4><A NAME="SEC302" HREF="libc_toc.html#TOC302">Host Address Functions</A></H4>

<P>
<A NAME="IDX1456"></A>
These additional functions for manipulating Internet addresses are
declared in the header file <TT>`arpa/inet.h'</TT>.  They represent Internet
addresses in network byte order; they represent network numbers and
local-address-within-network numbers in host byte order.  See section <A HREF="libc_299.html#SEC306">Byte Order Conversion</A>, for an explanation of network and host byte order.

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>inet_aton</B> <I>(const char *<VAR>name</VAR>, struct in_addr *<VAR>addr</VAR>)</I>
<DD><A NAME="IDX1457"></A>
This function converts the IPv4 Internet host address <VAR>name</VAR>
from the standard numbers-and-dots notation into binary data and stores
it in the <CODE>struct in_addr</CODE> that <VAR>addr</VAR> points to.
<CODE>inet_aton</CODE> returns nonzero if the address is valid, zero if not.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> uint32_t <B>inet_addr</B> <I>(const char *<VAR>name</VAR>)</I>
<DD><A NAME="IDX1458"></A>
This function converts the IPv4 Internet host address <VAR>name</VAR> from the
standard numbers-and-dots notation into binary data.  If the input is
not valid, <CODE>inet_addr</CODE> returns <CODE>INADDR_NONE</CODE>.  This is an
obsolete interface to <CODE>inet_aton</CODE>, described immediately above; it
is obsolete because <CODE>INADDR_NONE</CODE> is a valid address
(255.255.255.255), and <CODE>inet_aton</CODE> provides a cleaner way to
indicate error return.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> uint32_t <B>inet_network</B> <I>(const char *<VAR>name</VAR>)</I>
<DD><A NAME="IDX1459"></A>
This function extracts the network number from the address <VAR>name</VAR>,
given in the standard numbers-and-dots notation. The returned address is
in host order. If the input is not valid, <CODE>inet_network</CODE> returns
<CODE>-1</CODE>.

</P>
<P>
The function works only with traditional IPv4 class A, B and C network
types.  It doesn't work with classless addresses and shouldn't be used
anymore.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> char * <B>inet_ntoa</B> <I>(struct in_addr <VAR>addr</VAR>)</I>
<DD><A NAME="IDX1460"></A>
This function converts the IPv4 Internet host address <VAR>addr</VAR> to a
string in the standard numbers-and-dots notation.  The return value is
a pointer into a statically-allocated buffer.  Subsequent calls will
overwrite the same buffer, so you should copy the string if you need
to save it.

</P>
<P>
In multi-threaded programs each thread has an own statically-allocated
buffer.  But still subsequent calls of <CODE>inet_ntoa</CODE> in the same
thread will overwrite the result of the last call.

</P>
<P>
Instead of <CODE>inet_ntoa</CODE> the newer function <CODE>inet_ntop</CODE> which is
described below should be used since it handles both IPv4 and IPv6
addresses.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> struct in_addr <B>inet_makeaddr</B> <I>(uint32_t <VAR>net</VAR>, uint32_t <VAR>local</VAR>)</I>
<DD><A NAME="IDX1461"></A>
This function makes an IPv4 Internet host address by combining the network
number <VAR>net</VAR> with the local-address-within-network number
<VAR>local</VAR>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> uint32_t <B>inet_lnaof</B> <I>(struct in_addr <VAR>addr</VAR>)</I>
<DD><A NAME="IDX1462"></A>
This function returns the local-address-within-network part of the
Internet host address <VAR>addr</VAR>.

</P>
<P>
The function works only with traditional IPv4 class A, B and C network
types.  It doesn't work with classless addresses and shouldn't be used
anymore.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> uint32_t <B>inet_netof</B> <I>(struct in_addr <VAR>addr</VAR>)</I>
<DD><A NAME="IDX1463"></A>
This function returns the network number part of the Internet host
address <VAR>addr</VAR>.

</P>
<P>
The function works only with traditional IPv4 class A, B and C network
types.  It doesn't work with classless addresses and shouldn't be used
anymore.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> int <B>inet_pton</B> <I>(int <VAR>af</VAR>, const char *<VAR>cp</VAR>, void *<VAR>buf</VAR>)</I>
<DD><A NAME="IDX1464"></A>
This function converts an Internet address (either IPv4 or IPv6) from
presentation (textual) to network (binary) format.  <VAR>af</VAR> should be
either <CODE>AF_INET</CODE> or <CODE>AF_INET6</CODE>, as appropriate for the type of
address being converted.  <VAR>cp</VAR> is a pointer to the input string, and
<VAR>buf</VAR> is a pointer to a buffer for the result.  It is the caller's
responsibility to make sure the buffer is large enough.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> const char * <B>inet_ntop</B> <I>(int <VAR>af</VAR>, const void *<VAR>cp</VAR>, char *<VAR>buf</VAR>, size_t <VAR>len</VAR>)</I>
<DD><A NAME="IDX1465"></A>
This function converts an Internet address (either IPv4 or IPv6) from
network (binary) to presentation (textual) form.  <VAR>af</VAR> should be
either <CODE>AF_INET</CODE> or <CODE>AF_INET6</CODE>, as appropriate.  <VAR>cp</VAR> is a
pointer to the address to be converted.  <VAR>buf</VAR> should be a pointer
to a buffer to hold the result, and <VAR>len</VAR> is the length of this
buffer.  The return value from the function will be this buffer address.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_294.html">previous</A>, <A HREF="libc_296.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
