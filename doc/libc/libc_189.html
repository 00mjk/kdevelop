<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from libc.texinfo on 28 March 2001 -->

<TITLE>The GNU C Library - Numeric Input Conversions</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_188.html">previous</A>, <A HREF="libc_190.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC196" HREF="libc_toc.html#TOC196">Numeric Input Conversions</A></H3>

<P>
This section describes the <CODE>scanf</CODE> conversions for reading numeric
values.

</P>
<P>
The <SAMP>`%d'</SAMP> conversion matches an optionally signed integer in decimal
radix.  The syntax that is recognized is the same as that for the
<CODE>strtol</CODE> function (see section <A HREF="libc_389.html#SEC396">Parsing of Integers</A>) with the value
<CODE>10</CODE> for the <VAR>base</VAR> argument.

</P>
<P>
The <SAMP>`%i'</SAMP> conversion matches an optionally signed integer in any of
the formats that the C language defines for specifying an integer
constant.  The syntax that is recognized is the same as that for the
<CODE>strtol</CODE> function (see section <A HREF="libc_389.html#SEC396">Parsing of Integers</A>) with the value
<CODE>0</CODE> for the <VAR>base</VAR> argument.  (You can print integers in this
syntax with <CODE>printf</CODE> by using the <SAMP>`#'</SAMP> flag character with the
<SAMP>`%x'</SAMP>, <SAMP>`%o'</SAMP>, or <SAMP>`%d'</SAMP> conversion.  See section <A HREF="libc_171.html#SEC178">Integer Conversions</A>.)

</P>
<P>
For example, any of the strings <SAMP>`10'</SAMP>, <SAMP>`0xa'</SAMP>, or <SAMP>`012'</SAMP>
could be read in as integers under the <SAMP>`%i'</SAMP> conversion.  Each of
these specifies a number with decimal value <CODE>10</CODE>.

</P>
<P>
The <SAMP>`%o'</SAMP>, <SAMP>`%u'</SAMP>, and <SAMP>`%x'</SAMP> conversions match unsigned
integers in octal, decimal, and hexadecimal radices, respectively.  The
syntax that is recognized is the same as that for the <CODE>strtoul</CODE>
function (see section <A HREF="libc_389.html#SEC396">Parsing of Integers</A>) with the appropriate value
(<CODE>8</CODE>, <CODE>10</CODE>, or <CODE>16</CODE>) for the <VAR>base</VAR> argument.

</P>
<P>
The <SAMP>`%X'</SAMP> conversion is identical to the <SAMP>`%x'</SAMP> conversion.  They
both permit either uppercase or lowercase letters to be used as digits.

</P>
<P>
The default type of the corresponding argument for the <CODE>%d</CODE> and
<CODE>%i</CODE> conversions is <CODE>int *</CODE>, and <CODE>unsigned int *</CODE> for the
other integer conversions.  You can use the following type modifiers to
specify other sizes of integer:

</P>
<DL COMPACT>

<DT><SAMP>`hh'</SAMP>
<DD>
Specifies that the argument is a <CODE>signed char *</CODE> or <CODE>unsigned
char *</CODE>.

This modifier was introduced in ISO C 9x.

<DT><SAMP>`h'</SAMP>
<DD>
Specifies that the argument is a <CODE>short int *</CODE> or <CODE>unsigned
short int *</CODE>.

<DT><SAMP>`j'</SAMP>
<DD>
Specifies that the argument is a <CODE>intmax_t *</CODE> or <CODE>uintmax_t *</CODE>.

This modifier was introduced in ISO C 9x.

<DT><SAMP>`l'</SAMP>
<DD>
Specifies that the argument is a <CODE>long int *</CODE> or <CODE>unsigned
long int *</CODE>.  Two <SAMP>`l'</SAMP> characters is like the <SAMP>`L'</SAMP> modifier, below.

<DT><SAMP>`ll'</SAMP>
<DD>
<DT><SAMP>`L'</SAMP>
<DD>
<DT><SAMP>`q'</SAMP>
<DD>
Specifies that the argument is a <CODE>long long int *</CODE> or <CODE>unsigned long long int *</CODE>.  (The <CODE>long long</CODE> type is an extension supported by the
GNU C compiler.  For systems that don't provide extra-long integers, this
is the same as <CODE>long int</CODE>.)

The <SAMP>`q'</SAMP> modifier is another name for the same thing, which comes
from 4.4 BSD; a <CODE>long long int</CODE> is sometimes called a "quad"
<CODE>int</CODE>.

<DT><SAMP>`t'</SAMP>
<DD>
Specifies that the argument is a <CODE>ptrdiff_t *</CODE>.

This modifier was introduced in ISO C 9x.

<DT><SAMP>`z'</SAMP>
<DD>
Specifies that the argument is a <CODE>size_t *</CODE>.

This modifier was introduced in ISO C 9x.
</DL>

<P>
All of the <SAMP>`%e'</SAMP>, <SAMP>`%f'</SAMP>, <SAMP>`%g'</SAMP>, <SAMP>`%E'</SAMP>, and <SAMP>`%G'</SAMP>
input conversions are interchangeable.  They all match an optionally
signed floating point number, in the same syntax as for the
<CODE>strtod</CODE> function (see section <A HREF="libc_390.html#SEC397">Parsing of Floats</A>).

</P>
<P>
For the floating-point input conversions, the default argument type is
<CODE>float *</CODE>.  (This is different from the corresponding output
conversions, where the default type is <CODE>double</CODE>; remember that
<CODE>float</CODE> arguments to <CODE>printf</CODE> are converted to <CODE>double</CODE>
by the default argument promotions, but <CODE>float *</CODE> arguments are
not promoted to <CODE>double *</CODE>.)  You can specify other sizes of float
using these type modifiers:

</P>
<DL COMPACT>

<DT><SAMP>`l'</SAMP>
<DD>
Specifies that the argument is of type <CODE>double *</CODE>.

<DT><SAMP>`L'</SAMP>
<DD>
Specifies that the argument is of type <CODE>long double *</CODE>.
</DL>

<P>
For all the above number parsing formats there is an additional optional
flag <SAMP>`''</SAMP>.  When this flag is given the <CODE>scanf</CODE> function
expects the number represented in the input string to be formatted
according to the grouping rules of the currently selected locale
(see section <A HREF="libc_102.html#SEC106">Generic Numeric Formatting Parameters</A>).

</P>
<P>
If the <CODE>"C"</CODE> or <CODE>"POSIX"</CODE> locale is selected there is no
difference.  But for a locale which specifies values for the appropriate
fields in the locale the input must have the correct form in the input.
Otherwise the longest prefix with a correct form is processed.

</P>
<P><HR><P>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_188.html">previous</A>, <A HREF="libc_190.html">next</A>, <A HREF="libc_654.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
