<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Application Resources</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"/><LINK
REL="HOME"
TITLE="KDE 2.0 Development"
HREF="index.html"/><LINK
REL="UP"
TITLE="Further KDE Compliance"
HREF="ch07.html"/><LINK
REL="PREVIOUS"
TITLE="Session Management"
HREF="ch07lev1sec3.html"/><LINK
REL="NEXT"
TITLE="Network Transparency"
HREF="ch07lev1sec5.html"/><META
HTTP-EQUIV="Content-Style-Type"
CONTENT="text/css"/><LINK
REL="stylesheet"
HREF="kde-common.css"
TYPE="text/css"/><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=iso-8859-1"/><META
HTTP-EQUIV="Content-Language"
CONTENT="en"/><LINK
REL="stylesheet"
HREF="kde-localised.css"
TYPE="text/css"
TITLE="KDE-English"/><LINK
REL="stylesheet"
HREF="kde-default.css"
TYPE="text/css"
TITLE="KDE-Default"/></HEAD
><BODY
CLASS="section"
LINK="#336699"
VLINK="#336699"
ALINK="#336699"
BGCOLOR="#FFFFFF"
><DIV
ALIGN="RIGHT"
CLASS="NAVBAR"
><P
><A
HREF="ch07lev1sec3.html"
>Prev</A
> <A
HREF="ch07lev1sec5.html"
>Next</A
> <A
HREF="index.html"
>Table of Contents</A
></P
></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H1
CLASS="section"
><A
NAME="ch07lev1sec4"
>7.4. Application Resources</A
></H1
><P
>Applications often need to internally use data that is stored outside the program source code. You might choose to keep data outside the source code because it is large or subject to change. Such data, called application resources, might include icons, pixmaps, sounds, text strings, and documentation.</P
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H2
CLASS="section"
><A
NAME="ch07lev2sec4"
>7.4.1. Standard Resource Locations</A
></H2
><P
>By  default, global application resources are stored in the directory trees rooted at $KDEDIR/share and .kde/share (the latter being in the user's home directory). These subdirectories may exist in either place, and applications should make use of both sets of resources. Application-specific resources are stored in the subdirectory apps/<I
CLASS="emphasis"
>kappname</I
> (where <I
CLASS="emphasis"
>kappname</I
> is an application's name). These default locations can be modified by the user. The user can set the <TT
CLASS="literal"
>KDEDIRS</TT
> (note the trailing <SPAN
CLASS="QUOTE"
>"S"</SPAN
> in this variable name) to contain a colon-separated list of directories under which the share subdirectory could lie. For example, the default setting is functionally equivalent to setting <TT
CLASS="literal"
>KDEDIRS</TT
> equal to <TT
CLASS="literal"
>$KDEDIR:$HOME/.kde</TT
> (where <TT
CLASS="literal"
>$HOME</TT
> refers to the user's home directory).</P
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch07lev2sec4"/></TD
></TR
><ANNOTATION
NAME="ch07lev2sec4"
TITLE="Standard Resource Locations"/></TABLE
></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H2
CLASS="section"
><A
NAME="ch07lev2sec5"
>7.4.2. Application Resources</A
></H2
><P
>Applications never need to specify full paths to resources or even be concerned with whether they are using resources from $KDEDIR/share or .kde/share. They can use the class <TT
CLASS="literal"
>KStandardDirs</TT
> to locate resources by resource type. <A
HREF="ch07lev1sec4.html#ch07table01"
>Table 7.1</A
> summarizes the resource types that are supported by the <TT
CLASS="literal"
>KStandardDirs</TT
> class. The subdirectory may lie in $KDEDIR or in .kde in the user's home directory.</P
><DIV
CLASS="table"
><HR/><A
NAME="ch07table01"
></A
><P
><B
>Table 7.1. Resource Types Supported by <TT
CLASS="literal"
>KStandardDirs</TT
> Class</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="emphasis"
>Identifier</I
></TH
><TH
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="emphasis"
>Subdirectory</I
></TH
><TH
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="emphasis"
>Resource Type</I
></TH
></TR
></THEAD
><TBODY
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="literal"
>appdata</TT
></TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>share/apps/kappnamerc</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Application-specific data</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="literal"
>apps</TT
></TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>share/applnk</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>K-Menu structure</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="literal"
>cgi</TT
></TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>cgi-bin</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>CGI scripts to run from KHelpcenter</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="literal"
>config</TT
></TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>share/config</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Configuration files (for example, kappnamerc)</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="literal"
>data</TT
></TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>share/apps</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Directory holding all application-specific data subdirectories</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="literal"
>exe</TT
></TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>bin</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>KDE executables (binaries) directory</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="literal"
>html</TT
></TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>share/doc/html</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>HTML documentation</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="literal"
>icon</TT
></TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>share/icons</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Application icons and miniicons</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="literal"
>lib</TT
></TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>lib</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>KDE libraries directory</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="literal"
>locale</TT
></TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>share/local</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Translation files for the <TT
CLASS="literal"
>KLocale</TT
> class</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="literal"
>mime</TT
></TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>share/mimelnk</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Mime type description files</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="literal"
>services</TT
></TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>share/services</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Descriptions of the services provided by libraries and programs</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>servicetypes</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>share/servicetypes</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Categories of services</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>sound</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>share/sounds</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Application sounds</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>toolbar</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>share/toolbar</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Pictures for use on toolbars</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>wallpaper</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>share/wallpapers</TD
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Pictures for use as Idesktop wallpaper</TD
></TR
></TBODY
></TABLE
><HR/></DIV
><P
>Resources of the types mentioned in the preceding table can be accessed, loaded, and manipulated using standard KDE/Qt classes. Custom data types, stored in the application-specific resources directory, might, of course, need custom classes to manipulate them.</P
><P
>The widget <TT
CLASS="literal"
>KResourceDemo</TT
>, given in <A
HREF="ch07lev1sec4.html#ch07list14"
>Listings 7.14</A
> and <A
HREF="ch07lev1sec4.html#ch07list15"
>7.15</A
>, shows how to find and load a picture, a sound, and a custom resource (in this case, a text file).</P
><DIV
CLASS="example"
><HR/><A
NAME="ch07list14"
></A
><P
><B
>Example 7.14. kresourcedemo.h: Class Declaration for <TT
CLASS="literal"
>KResourceDemo</TT
>, a Widget That Demonstrates Loading and Using Application Resources</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp; 1: #ifndef __KRESOURCEDEMO_H__
   3&nbsp; 2: #define __KRESOURCEDEMO_H__
   4&nbsp; 3:
   5&nbsp; 4: #include &lt;qlabel.h&gt;
   6&nbsp; 5:
   7&nbsp; 6: #include &lt;kaudio.h&gt;
   8&nbsp; 7:
   9&nbsp; 8:
  10&nbsp; 9: /**
  11&nbsp;10:  * KResourceDemo
  12&nbsp;11:  * Show how to access application resources.
  13&nbsp;12:  **/
  14&nbsp;13: class KResourceDemo : public QLabel
  15&nbsp;14: {
  16&nbsp;15:  public:
  17&nbsp;16:   KResourceDemo (QWidget *parent);
  18&nbsp;17:
  19&nbsp;18: };
  20&nbsp;19:
  21&nbsp;20: #endif</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
><TT
CLASS="literal"
>KResourceDemo</TT
> is derived from the <TT
CLASS="literal"
>QLabel</TT
> widget. Its background pixmap is the image Paper01.jpg, a standard KDE global resource. The text displayed in the widget is loaded from the file text.txt, an application-specific resource.</P
><DIV
CLASS="example"
><HR/><A
NAME="ch07list15"
></A
><P
><B
>Example 7.15. kresourcedemo.cpp: Class Definition for <TT
CLASS="literal"
>KResourceDemo</TT
></B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp; 1: #include &lt;qpixmap.h&gt;
   3&nbsp; 2: #include &lt;qfile.h&gt;
   4&nbsp; 3:
   5&nbsp; 4: #include &lt;kglobal.h&gt;
   6&nbsp; 5: #include &lt;kstddirs.h&gt;
   7&nbsp; 6: #include &lt;kimgio.h&gt;
   8&nbsp; 7: #include &lt;klocale.h&gt;
   9&nbsp; 8:
  10&nbsp; 9:
  11&nbsp;10: #include "kresourcedemo.h"
  12&nbsp;11:
  13&nbsp;12: KResourceDemo::KResourceDemo (QWidget *parent) :
  14&nbsp;13:   QLabel (parent)
  15&nbsp;14: {
  16&nbsp;15:   KStandardDirs *dirs = KGlobal::dirs();
  17&nbsp;16:
  18&nbsp;17:   //Load picture and set as background.
  19&nbsp;18:   QString picturepath;
  20&nbsp;19:   picturepath = dirs-&gt;findResource ("wallpaper", "Paper01.jpg");
  21&nbsp;20:
  22&nbsp;21:   kimgioRegister();
  23&nbsp;22:   QPixmap qpixmap;
  24&nbsp;23:   qpixmap.load (picturepath);
  25&nbsp;24:   setBackgroundPixmap (qpixmap);
  26&nbsp;25:
  27&nbsp;26:
  28&nbsp;27:   //Draw some text from a resource file.
  29&nbsp;28:   QFont qfont = font();
  30&nbsp;29:   qfont.setBold(true);
  31&nbsp;30:   setFont (qfont);
  32&nbsp;31:
  33&nbsp;32:   QString textpath;
  34&nbsp;33:   textpath = dirs-&gt;findResource ("appdata", "text.txt");
  35&nbsp;34:
  36&nbsp;35:   char * buffer = new char [1024];
  37&nbsp;36:   QFile qfile (textpath);
  38&nbsp;37:   qfile.open (IO_ReadOnly);
  39&nbsp;38:   qfile.readBlock (buffer, 1024);
  40&nbsp;39:
  41&nbsp;40:   QString datatext (buffer);
  42&nbsp;41:   delete buffer;
  43&nbsp;42:
  44&nbsp;43:   datatext.prepend (i18n("Here is some text:\n"));
  45&nbsp;44:   setText (datatext);
  46&nbsp;45: }</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>A global instance of <TT
CLASS="literal"
>KStandardDirs</TT
>, a class used to locate resources, is available from the static function <TT
CLASS="literal"
>KGlobal::dirs()</TT
>. For readability, assign the return value to the pointer <TT
CLASS="literal"
>dirs</TT
>.</P
><P
>In line 19, <TT
CLASS="literal"
>findResource()</TT
> returns the full path to the file Paper01.jpg. It searches for this file in the directories that hold resources of type <TT
CLASS="literal"
>wallpaper</TT
>.</P
><P
>To manipulate a JPEG file like Paper01.jpg, you need to make use of the kimgio library. Be sure to compile this program by passing the option <TT
CLASS="literal"
>-lkimgio</TT
> to <TT
CLASS="literal"
>g++</TT
>. This links the kimgio library to the program, giving it access to the functions in the library.</P
><P
>Using the library is quite simple; just call <TT
CLASS="literal"
>kimgioRegister()</TT
> (line 21) and you are done with kimgio! (See <A
HREF="ch10.html"
>Chapter 10, <SPAN
CLASS="QUOTE"
>"Complex-Function KDE Widgets"</SPAN
></A
>, for a discussion of <TT
CLASS="literal"
>KImgIO</TT
>.) Now you load the picture into the instance of <TT
CLASS="literal"
>QPixmap</TT
> called <TT
CLASS="literal"
>qpixmap</TT
> with the statement</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp; qpixmap.load (picturepath)
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>seen on line 23. The pixmap is set as the widget's background in line 24.</P
><P
>Next you find and load an application-specific resource, a text file in this case, and display its contents. In line 33, you search for a resource of type <TT
CLASS="literal"
>appdata</TT
> called text.txt. This file, shown in <A
HREF="ch07lev1sec4.html#ch07list16"
>Listing 7.16</A
>, contains the text that will be displayed in the label. <A
HREF="ch07lev1sec4.html#ch07fig05"
>Figure 7.5</A
> shows a screenshot of KResourceDemo.</P
><DIV
CLASS="figure"
><HR/><A
NAME="ch07fig05"
></A
><P
><B
>Figure 7.5. <TT
CLASS="literal"
>KResourceDemo</TT
> places a pixmap in the background and some text in the foreground, both of which are stored as application resources.</B
></P
><DIV
CLASS="mediaobject"
><P
><IMG
SRC="graphics/07fig05.gif"
></IMG
></P
></DIV
><HR/></DIV
><DIV
CLASS="example"
><HR/><A
NAME="ch07list16"
></A
><P
><B
>Example 7.16. Contents of $KDEDIR/share/appstext.txt, Which is Displayed by <TT
CLASS="literal"
>kresourcedemo</TT
></B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;This text was taken from the file
   3&nbsp;$KDEDIR/share/apps/kresourcedemo/text.txt
   4&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>Lines 35&#8211;44 of <A
HREF="ch07lev1sec4.html#ch07list15"
>Listing 7.15</A
> contain code to read in and display the text. The code uses <TT
CLASS="literal"
>QFile,</TT
> a class that allows you to read and write files. It is not covered in detail; therefore, see the Qt documentation for more information.</P
><P
>The final resource you access is a translation. The function <TT
CLASS="literal"
>i18n()</TT
> is defined in klocal.h. (<I
CLASS="emphasis"
>i18n</I
> is a commonly used shorthand for <I
CLASS="emphasis"
>internationalization</I
>. Internationalization is such a long word that programmers abbreviate it by its first and last letters with a number in between that is equal to the number of letters left out of the word.) All string constants in an application should be enclosed in a call to <TT
CLASS="literal"
>i18n()</TT
>. These strings can be translated to other languages, and when your application runs on a foreign desktop, the strings are displayed in the local language.</P
><P
>You create the string translations by extracting all the strings passed to <TT
CLASS="literal"
>i18n()</TT
> with <TT
CLASS="literal"
>xgettext</TT
>, a GNU utility. Use the call</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;  xgettext --c++ --keyword=i18n kresourcedemo.cpp --output=kresourcedemo.po
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>to extract the strings from kresourcedemo.cpp and place them in the file kresourcedemo.po. PO stands for Portable Object. This reflects the fact that they are text files that can be easily moved between platforms. The file kresource.po is shown in <A
HREF="ch07lev1sec4.html#ch07list17"
>Listing 7.17</A
>.</P
><DIV
CLASS="example"
><HR/><A
NAME="ch07list17"
></A
><P
><B
>Example 7.17. kresource.po: The Translation Template File Generated by <TT
CLASS="literal"
>xgettext</TT
></B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp; 1: # SOME DESCRIPTIVE TITLE.
   3&nbsp; 2: # Copyright (C) YEAR Free Software Foundation, Inc.
   4&nbsp; 3: # FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.
   5&nbsp; 4: #
   6&nbsp; 5: #, fuzzy
   7&nbsp; 6: msgid ""
   8&nbsp; 7: msgstr ""
   9&nbsp; 8: "Project-Id-Version: PACKAGE VERSION\n"
  10&nbsp; 9: "POT-Creation-Date: 1999-11-20 13:31-0500\n"
  11&nbsp;10: "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
  12&nbsp;11: "Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;\n"
  13&nbsp;12: "Language-Team: LANGUAGE &lt;LL@li.org&gt;\n"
  14&nbsp;13: "MIME-Version: 1.0\n"
  15&nbsp;14: "Content-Type: text/plain; charset=iso-8859-1\n"
  16&nbsp;15: "Content-Transfer-Encoding: ENCODING\n"
  17&nbsp;16:
  18&nbsp;17: #: kresourcedemo.cpp:45
  19&nbsp;18: msgid "Here is some text:\n"
  20&nbsp;19: msgstr ""</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>To test the translation feature, fill in the <TT
CLASS="literal"
>msgstr</TT
> entry at the bottom of kresourcedemo.po using any text editor. That is, change the empty string <TT
CLASS="literal"
>""</TT
> to some other string, such as <SPAN
CLASS="QUOTE"
>"Look at this text!"</SPAN
> or try translating it into another language.</P
><P
>The files used by running KDE programs are machine-object (binary) files. The machine-object file for kresourcedemo is created by <TT
CLASS="literal"
>msgfmt</TT
> with</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;  msgfmt kresourcedemo.po -o kresourcedemo.mo
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>Move this file into $KDEDIR/share/locale/de/LC[lowbar]MESSAGES (create the directory if it does not exist). Now run the KDE control center from the K Menu on the panel. Click Language in the Desktop subtree and choose German as your primary language.</P
><P
>Now, open up a new terminal from the panel and run kresourcedemo. Instead of displaying <TT
CLASS="literal"
>Here is some text:</TT
>, it should display the alternative string you entered in kresourcedemo.po.</P
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch07lev2sec5"/></TD
></TR
><ANNOTATION
NAME="ch07lev2sec5"
TITLE="Application Resources"/></TABLE
></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H2
CLASS="section"
><A
NAME="ch07lev2sec6"
>7.4.3. Creating .desktop Files</A
></H2
><P
>KDE 2.0 uses files with the extension .desktop, in a standard Key, Value pair format (discussed shortly) to describe applications. These are called <SPAN
CLASS="QUOTE"
>"application .desktop files"</SPAN
> because these files are used to describe other objects as well (see <A
HREF="ch12.html"
>Chapter 12, <SPAN
CLASS="QUOTE"
>"Creating and Using Components (KParts)"</SPAN
></A
>). KDE 1.x used similar files, but with the extension .kdelnk. The extension .kdelnk is still supported, but it is best to use the newer .desktop extension to ensure future compatibility.</P
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch07lev2sec6"/></TD
></TR
><ANNOTATION
NAME="ch07lev2sec6"
TITLE="Creating .desktop Files"/></TABLE
></DIV
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch07lev1sec4"/></TD
></TR
><ANNOTATION
NAME="ch07lev1sec4"
TITLE="Application Resources"/></TABLE
></DIV
><DIV
ALIGN="RIGHT"
CLASS="NAVBAR"
><P
><A
HREF="ch07lev1sec3.html"
>Prev</A
> <A
HREF="ch07lev1sec5.html"
>Next</A
> <A
HREF="index.html"
>Table of Contents</A
></P
></DIV
><HR
WIDTH="100%"
SIZE="2"
ALIGN="CENTER"
NOSHADE="NOSHADE"/></BODY
></HTML
>