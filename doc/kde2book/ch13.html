<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>DCOP&#8212;Desktop Communication Protocol</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"/><LINK
REL="HOME"
TITLE="KDE 2.0 Development"
HREF="index.html"/><LINK
REL="UP"
TITLE="Application Interaction and Integration"
HREF="p03.html"/><LINK
REL="PREVIOUS"
TITLE="Summary"
HREF="ch12lev1sec10.html"/><LINK
REL="NEXT"
TITLE="History"
HREF="ch13lev1sec2.html"/><META
HTTP-EQUIV="Content-Style-Type"
CONTENT="text/css"/><LINK
REL="stylesheet"
HREF="kde-common.css"
TYPE="text/css"/><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=iso-8859-1"/><META
HTTP-EQUIV="Content-Language"
CONTENT="en"/><LINK
REL="stylesheet"
HREF="kde-localised.css"
TYPE="text/css"
TITLE="KDE-English"/><LINK
REL="stylesheet"
HREF="kde-default.css"
TYPE="text/css"
TITLE="KDE-Default"/></HEAD
><BODY
CLASS="chapter"
LINK="#336699"
VLINK="#336699"
ALINK="#336699"
BGCOLOR="#FFFFFF"
><DIV
ALIGN="RIGHT"
CLASS="NAVBAR"
><P
><A
HREF="ch12lev1sec10.html"
>Prev</A
> <A
HREF="ch13lev1sec2.html"
>Next</A
> <A
HREF="index.html"
>Table of Contents</A
></P
></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="ch13"
>Chapter 13. DCOP&#8212;Desktop Communication Protocol</A
></H1
><P
><I
CLASS="emphasis"
>by Cristian Tibirna</I
></P
><DIV
CLASS="highlights"
><A
NAME="AEN17810"
></A
><UL
COMPACT="COMPACT"
><LI
STYLE="list-style-type: disc"
><P
><I
CLASS="emphasis"
><A
HREF="ch13.html#ch13lev1sec1"
>Motivation</A
></I
></P
></LI
><LI
STYLE="list-style-type: disc"
><P
><I
CLASS="emphasis"
><A
HREF="ch13lev1sec2.html"
>History</A
></I
></P
></LI
><LI
STYLE="list-style-type: disc"
><P
><I
CLASS="emphasis"
><A
HREF="ch13lev1sec3.html"
>Underlying Technologies</A
></I
></P
></LI
><LI
STYLE="list-style-type: disc"
><P
><I
CLASS="emphasis"
><A
HREF="ch13lev1sec4.html"
>Architecture</A
></I
></P
></LI
><LI
STYLE="list-style-type: disc"
><P
><I
CLASS="emphasis"
><A
HREF="ch13lev1sec5.html"
>Description of DCOP's Programming Interface</A
></I
></P
></LI
><LI
STYLE="list-style-type: disc"
><P
><I
CLASS="emphasis"
><A
HREF="ch13lev1sec6.html"
>Developer Concerns and Tools in DCOP</A
></I
></P
></LI
><LI
STYLE="list-style-type: disc"
><P
><I
CLASS="emphasis"
><A
HREF="ch13lev1sec7.html"
>DCOP Use in KDE 2.0&#8212;A Few Examples</A
></I
></P
></LI
></UL
></DIV
><P
>One major reason for the rampant dependence upon computers is their capability to greatly simplify the work and life of users. This capability is largely a consequence of the computers' <SPAN
CLASS="QUOTE"
>"education"</SPAN
>; that is, their programs. The educators (that happy bunch we love to call <I
CLASS="emphasis"
>the hackers</I
>) discovered that sociology applies to computer programs as well as people. In order to behave as worthy citizens of a computer, the programs need to know how to communicate.</P
><P
>A long time ago, the UNIX fathers noticed the hunger of programs for communication. Therefore, they invented the genial <I
CLASS="emphasis"
>pipes</I
>. Arguably, most of the force of UNIX comes from offering its users the ability to build combinations of small tools. These combinations can reach a potentially infinite complexity. These <SPAN
CLASS="QUOTE"
>"metatools"</SPAN
> help the user easily accomplish complex tasks. Pipes are an essential ingredient in these combinations. You have probably used, at least once, commands such as</P
><P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;]~&gt; find . -name "*.cc" | xargs wc -l
   3&nbsp;
   4&nbsp;]~&gt; cat /etc/passwd | awk -F: 'print $4' &gt; /tmp/users-realnames
   5&nbsp;
   6&nbsp;]~&gt; echo "What a happy world!" | mail -s "Oh yeah!" buddy@paradise.org
   7&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
></P
><P
>Today, we want to develop programs with nicer faces and better capabilities, and we rediscover that communication between applications is essential. Yet, in the time of <I
CLASS="emphasis"
>graphical interfaces</I
>, <I
CLASS="emphasis"
>point and click</I
>, and <I
CLASS="emphasis"
>what you see is what you get</I
>, it is less convenient to use traditional pipes. More advanced communication means are needed.</P
><P
>Thus appeared DCOP, the <I
CLASS="emphasis"
>Desktop Communication Protocol</I
>. This name designates the set of tools that KDE programs use to pass information between them.</P
><P
>This chapter describes the programming interface that DCOP defines and gives a few directions and examples.</P
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H1
CLASS="section"
><A
NAME="ch13lev1sec1"
>13.1. Motivation</A
></H1
><P
>The K Desktop Environment was designed from the very beginning as a collection of programs, each targeted at resolving a strictly delimited category of tasks. However, the main goal of a desktop environment is to offer the user a unified way of functioning that preserves or even enhances his productivity in a heuristic way, despite the diversity of tasks the user has to accomplish. The validity of this goal is proven by the wealth of integration tools that proliferated around and inside the traditional UNIX window managers (from the times that preceded KDE).</P
><P
>Those window managers had scripting support and other kinds of programming interfaces. They offered hooks for programs willing to take advantage of the specific windowing information accessible to the window manager or to implement integration with the underlying operating system. There also were connections through which programs could manipulate the window manager.</P
><P
>It was not unusual for most window managers to come bundled with helper tools such as task lists, icon managers, or event handlers that took advantage of special communication functions in order to offer a better experience to the user of the graphical interface.</P
><P
>In running KDE, the need for communication between applications stands out. Here are a few examples of interprocess communication needs:</P
><UL
COMPACT="COMPACT"
><LI
STYLE="list-style-type: disc"
><P
>The desktop has to offer feedback about applications' startup dynamics.</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>Today's applications will often need to point the desktop browser to a URL or offer means for composing mail using the desktop's default mailer agent.</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>Applications need to be informed about changes operated by the user in the external configuration modules hosted by KDE's Control Center.</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>Users require a unified interface to the online help offered by applications.</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>The window manager (KWin) informs the panel (Kicker) about changes in the collection of managed windows.</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>Part of the changes occurring in a window's status are propagated by the window manager to the event notifier (KNotifier) for proper notification of the user. Also, the centralized notification resources are helpful for all applications, not only for the window manager.</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>The panel can manage special applications (panel applets) and needs to exchange with them the bits of information related to their status and activities, such as adding and removing applets, required geometry, special menu items to be added to the main menu of the panel, and so on.</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>Last, but not least, generic desktop control through scripting is in high demand.</P
></LI
></UL
><P
>Communication is essential even between distinct instances of the same application. Starting with version 2.0 of KDE, the concept of <I
CLASS="emphasis"
>unique application</I
> is available. This concept, very simple in essence, stipulates that an application can choose to never have more that one fully running instance. A user can try, of course, to spawn a second instance. It is up to this new process to discover if previous copies are already running. If an older instance exists, the new one should be capable of communicating with its predecessor. Through communication, it would be able to trigger the display of an information dialog box or to pass over the parameters provided by the user, such as the name of a file to open or a special command-line option.</P
><P
>When a given number of applications are in charge of similar tasks&#8212;for example, the processing of users' mail&#8212;collaboration between such applications is very useful. Imagine, for example, a tiny mail monitor that sits in the background and checks for new messages in multiple mailboxes. In the event of a new incoming message, the monitor should be able to send event information to the system's notification handler (KNotify), check whether there is any running mail agent, and if there is, try to communicate to the mail agent information that will promptly modify its status.</P
><P
>As you can see, building reliable means of communication in the backbone of KDE is necessary. Doing this in such a way that the resulting programming interface is simple, easy to use, and efficient is also highly important. DCOP offers all these and more.</P
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch13lev1sec1"/></TD
></TR
><ANNOTATION
NAME="ch13lev1sec1"
TITLE="Motivation"/></TABLE
></DIV
></DIV
><DIV
ALIGN="RIGHT"
CLASS="NAVBAR"
><P
><A
HREF="ch12lev1sec10.html"
>Prev</A
> <A
HREF="ch13lev1sec2.html"
>Next</A
> <A
HREF="index.html"
>Table of Contents</A
></P
></DIV
><HR
WIDTH="100%"
SIZE="2"
ALIGN="CENTER"
NOSHADE="NOSHADE"/></BODY
></HTML
>