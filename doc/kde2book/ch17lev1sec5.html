<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Installing and Using cvs</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"/><LINK
REL="HOME"
TITLE="KDE 2.0 Development"
HREF="index.html"/><LINK
REL="UP"
TITLE="Managing Source Code with CVS"
HREF="ch17.html"/><LINK
REL="PREVIOUS"
TITLE="Installing and Using CVSup"
HREF="ch17lev1sec4.html"/><LINK
REL="NEXT"
TITLE="Summary"
HREF="ch17lev1sec6.html"/><META
HTTP-EQUIV="Content-Style-Type"
CONTENT="text/css"/><LINK
REL="stylesheet"
HREF="kde-common.css"
TYPE="text/css"/><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=iso-8859-1"/><META
HTTP-EQUIV="Content-Language"
CONTENT="en"/><LINK
REL="stylesheet"
HREF="kde-localised.css"
TYPE="text/css"
TITLE="KDE-English"/><LINK
REL="stylesheet"
HREF="kde-default.css"
TYPE="text/css"
TITLE="KDE-Default"/></HEAD
><BODY
CLASS="section"
LINK="#336699"
VLINK="#336699"
ALINK="#336699"
BGCOLOR="#FFFFFF"
><DIV
ALIGN="RIGHT"
CLASS="NAVBAR"
><P
><A
HREF="ch17lev1sec4.html"
>Prev</A
> <A
HREF="ch17lev1sec6.html"
>Next</A
> <A
HREF="index.html"
>Table of Contents</A
></P
></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H1
CLASS="section"
><A
NAME="ch17lev1sec5"
>17.5. Installing and Using cvs</A
></H1
><P
>The <TT
CLASS="literal"
>cvs</TT
> utility may already be installed on your system (you can check by typing <I
CLASS="emphasis"
><TT
CLASS="literal"
>cvs</TT
></I
>). If not, you can download a source or binary package from <A
HREF="http://www.cyclic.com"
TARGET="_top"
>http://www.cyclic.com</A
>.</P
><P
>Before using <TT
CLASS="literal"
>cvs,</TT
> you need to set the environment variable <TT
CLASS="literal"
>CVSROOT</TT
> to point to the KDE CVS server. If your CVS login name is <TT
CLASS="literal"
>janedeveloper</TT
>, for example, you should set <TT
CLASS="literal"
>CVSROOT</TT
> to</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;:pserver:janedeveloper@cvs.kde.org:/home/kde
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H2
CLASS="section"
><A
NAME="ch17lev2sec8"
>17.5.1. Frequently Used Commands</A
></H2
><P
>The <TT
CLASS="literal"
>cvs</TT
> utility is flexible and thus offers many options. Common operations performed with <TT
CLASS="literal"
>cvs</TT
> are listed in the following paragraph. The option <TT
CLASS="literal"
>-z6</TT
> is included in all the commands. It enables compression of the information to be transferred between the server and the client. This can speed up transfers, especially over slow connections.</P
><P
>In the following list, <I
CLASS="emphasis"
><TT
CLASS="literal"
>modulename</TT
></I
> refers to one of the module names listed earlier in this chapter (kdesupport, kdelibs, and so on) and <I
CLASS="emphasis"
><TT
CLASS="literal"
>BRANCH_NAME</TT
></I
> refers to one of the CVS branches (for example, HEAD). Unless otherwise stated, the option <TT
CLASS="literal"
>-r</TT
> <I
CLASS="emphasis"
><TT
CLASS="literal"
>BRANCH_NAME</TT
></I
> is optional. If it is omitted, the default branch will be used. Within each module may be several applications or libraries, with one stored per subdirectory. In the following, <I
CLASS="emphasis"
>appname</I
> refers to one of these subdirectory names. For example, the module kdeutils contains the subdirectories kjots, kedit, and kwrite (among others) which contain the respective applications.</P
><P
>Unless otherwise noted, all commands given in this section assume that you want to use the current working directory for your local copy of CVS source code.</P
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H3
CLASS="section"
><A
NAME="ch17lev3sec1"
>17.5.1.1. Check Out a Module</A
></H3
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;<I
CLASS="emphasis"
>cvs -z6 co -r</I
> <I
CLASS="emphasis"
>BRANCH_NAME</I
> <I
CLASS="emphasis"
>modulename</I
>
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>copies <I
CLASS="emphasis"
><TT
CLASS="literal"
>modulename</TT
></I
> to a local subdirectory of the same name (which <TT
CLASS="literal"
>cvs</TT
> creates, if necessary).</P
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch17lev3sec1"/></TD
></TR
><ANNOTATION
NAME="ch17lev3sec1"
TITLE="Check Out a Module"/></TABLE
></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H3
CLASS="section"
><A
NAME="ch17lev3sec2"
>17.5.1.2. Commit Changes</A
></H3
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;<I
CLASS="emphasis"
>cvs -z6 commit</I
>
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>updates the CVS repository so that it matches your local code. In this case, the code in the current directory and its subdirectories will be updated. To commit a specific file or subdirectory, use</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;<I
CLASS="emphasis"
>cvs -z6 commit</I
> <I
CLASS="emphasis"
>filename</I
>
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>or</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;<I
CLASS="emphasis"
>cvs -z6 commit</I
> <I
CLASS="emphasis"
>subdirectory</I
>
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>You should be sure that your code compiles and runs before committing it to CVS. This way, other developers will always have a running version of KDE to work with.</P
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch17lev3sec2"/></TD
></TR
><ANNOTATION
NAME="ch17lev3sec2"
TITLE="Commit Changes"/></TABLE
></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H3
CLASS="section"
><A
NAME="ch17lev3sec3"
>17.5.1.3. Update a Previously Checked-Out Module</A
></H3
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;<I
CLASS="emphasis"
>cvs -z6 update</I
> <I
CLASS="emphasis"
>modulename</I
>
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>or</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;<I
CLASS="emphasis"
>cvs -z6 update</I
> <I
CLASS="emphasis"
>modulename/appname</I
>
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>updates your local code to match the CVS. If you use this regularly, you can keep up-to-date with CVS with minimal file-transfer time because only the differences between your local code and the CVS are transferred.</P
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch17lev3sec3"/></TD
></TR
><ANNOTATION
NAME="ch17lev3sec3"
TITLE="Update a Previously Checked-Out Module"/></TABLE
></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H3
CLASS="section"
><A
NAME="ch17lev3sec4"
>17.5.1.4. Check Out a Single Application from Within a Module</A
></H3
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;<I
CLASS="emphasis"
>cvs -z6 co -l</I
> <I
CLASS="emphasis"
>modulename</I
>
   3&nbsp;<I
CLASS="emphasis"
>cvs -z6 co</I
> <I
CLASS="emphasis"
>modulename/appname</I
>
   4&nbsp;<I
CLASS="emphasis"
>cvs -z6 co -l admin</I
>
   5&nbsp;<I
CLASS="emphasis"
>cd</I
> <I
CLASS="emphasis"
>modulename</I
><I
CLASS="emphasis"
>; ln -s ../admin</I
></PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>The option <TT
CLASS="literal"
>-l</TT
> tells <TT
CLASS="literal"
>cvs</TT
> not to recurse the subdirectories. Thus, in the first line, only the module-level <TT
CLASS="literal"
>Makefile</TT
>, configure script and related files will be copied to the local disk. The second line copies only the subdirectory containing the application we are interested in. The admin module contains more configuration scripts and is used by all other modules. When a module is retrieved in its entirety, the admin directory is included as a subdirectory of the module. Here, it is placed instead at the same level as the module's directory. Therefore, in the last line, we make a symbolic link to admin in the module's directory.</P
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch17lev3sec4"/></TD
></TR
><ANNOTATION
NAME="ch17lev3sec4"
TITLE="Check Out a Single Application from Within a Module"/></TABLE
></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H3
CLASS="section"
><A
NAME="ch17lev3sec5"
>17.5.1.5. Add a File</A
></H3
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;<I
CLASS="emphasis"
>cvs add mynewcode.cpp</I
>
   3&nbsp;<I
CLASS="emphasis"
>cvs -z6 commit</I
>
   4&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>adds the file mynewcode.cpp to CVS. Simply creating the file and running a <TT
CLASS="literal"
>commit</TT
> is not enough! Doing this will update all the files you have changed, but it will not include new files. This means that, typically, the application will be broken in CVS. Be sure to <TT
CLASS="literal"
>add</TT
> your new files. (Don't use <TT
CLASS="literal"
>-z6</TT
> when adding, because <TT
CLASS="literal"
>add</TT
> makes only local changes; it marks the file as <SPAN
CLASS="QUOTE"
>"to be added."</SPAN
>)</P
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch17lev3sec5"/></TD
></TR
><ANNOTATION
NAME="ch17lev3sec5"
TITLE="Add a File"/></TABLE
></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H3
CLASS="section"
><A
NAME="ch17lev3sec6"
>17.5.1.6. Remove a File</A
></H3
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;<I
CLASS="emphasis"
>rm oldcode.cpp</I
>
   3&nbsp;<I
CLASS="emphasis"
>cvs remove oldcode.cpp</I
>
   4&nbsp;<I
CLASS="emphasis"
>cvs -z6 commit</I
>
   5&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>removes the file oldcode.cpp from the current directory and then from CVS.</P
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch17lev3sec6"/></TD
></TR
><ANNOTATION
NAME="ch17lev3sec6"
TITLE="Remove a File"/></TABLE
></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H3
CLASS="section"
><A
NAME="ch17lev3sec7"
>17.5.1.7. Add a Directory</A
></H3
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;<I
CLASS="emphasis"
>cvs add newdir</I
>
   3&nbsp;<I
CLASS="emphasis"
>cvs add newdir/newsource.cpp</I
>
   4&nbsp;<I
CLASS="emphasis"
>cvs -z6 commit</I
>
   5&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>adds the directory newdir and its source file newsource.cpp to CVS. Note that you need to do <TT
CLASS="literal"
>cvs add newdir/newsource.cpp</TT
> for each source file before <TT
CLASS="literal"
>commit</TT
>ting. You cannot add an empty directory.</P
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch17lev3sec7"/></TD
></TR
><ANNOTATION
NAME="ch17lev3sec7"
TITLE="Add a Directory"/></TABLE
></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H3
CLASS="section"
><A
NAME="ch17lev3sec8"
>17.5.1.8. Remove a Directory</A
></H3
><P
>First, remove all files in the directory from CVS as described previously in <SPAN
CLASS="QUOTE"
>"Remove a File."</SPAN
> Then,</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;<I
CLASS="emphasis"
>cd ..</I
>
   3&nbsp;<I
CLASS="emphasis"
>cvs -P update</I
>
   4&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>removes the directory from CVS and from your local disk.</P
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch17lev3sec8"/></TD
></TR
><ANNOTATION
NAME="ch17lev3sec8"
TITLE="Remove a Directory"/></TABLE
></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H3
CLASS="section"
><A
NAME="ch17lev3sec9"
>17.5.1.9. List CVS modules</A
></H3
><P
>This cannot be done directly with <TT
CLASS="literal"
>cvs</TT
>, but you can get a good approximation of a list of all the modules by typing</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;<I
CLASS="emphasis"
>cvs -z6 co -c</I
>
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch17lev3sec9"/></TD
></TR
><ANNOTATION
NAME="ch17lev3sec9"
TITLE="List CVS modules"/></TABLE
></DIV
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch17lev2sec8"/></TD
></TR
><ANNOTATION
NAME="ch17lev2sec8"
TITLE="Frequently Used Commands"/></TABLE
></DIV
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch17lev1sec5"/></TD
></TR
><ANNOTATION
NAME="ch17lev1sec5"
TITLE="Installing and Using cvs"/></TABLE
></DIV
><DIV
ALIGN="RIGHT"
CLASS="NAVBAR"
><P
><A
HREF="ch17lev1sec4.html"
>Prev</A
> <A
HREF="ch17lev1sec6.html"
>Next</A
> <A
HREF="index.html"
>Table of Contents</A
></P
></DIV
><HR
WIDTH="100%"
SIZE="2"
ALIGN="CENTER"
NOSHADE="NOSHADE"/></BODY
></HTML
>