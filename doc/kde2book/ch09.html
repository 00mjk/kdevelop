<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Constructing A Responsive User Interface</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"/><LINK
REL="HOME"
TITLE="KDE 2.0 Development"
HREF="index.html"/><LINK
REL="UP"
TITLE="Advanced KDE Widgets and UI Design Techniques"
HREF="p02.html"/><LINK
REL="PREVIOUS"
TITLE="Exercises"
HREF="ch08lev1sec9.html"/><LINK
REL="NEXT"
TITLE="Speeding Up Window Updates"
HREF="ch09lev1sec2.html"/><META
HTTP-EQUIV="Content-Style-Type"
CONTENT="text/css"/><LINK
REL="stylesheet"
HREF="kde-common.css"
TYPE="text/css"/><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=iso-8859-1"/><META
HTTP-EQUIV="Content-Language"
CONTENT="en"/><LINK
REL="stylesheet"
HREF="kde-localised.css"
TYPE="text/css"
TITLE="KDE-English"/><LINK
REL="stylesheet"
HREF="kde-default.css"
TYPE="text/css"
TITLE="KDE-Default"/></HEAD
><BODY
CLASS="chapter"
LINK="#336699"
VLINK="#336699"
ALINK="#336699"
BGCOLOR="#FFFFFF"
><DIV
ALIGN="RIGHT"
CLASS="NAVBAR"
><P
><A
HREF="ch08lev1sec9.html"
>Prev</A
> <A
HREF="ch09lev1sec2.html"
>Next</A
> <A
HREF="index.html"
>Table of Contents</A
></P
></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="ch09"
>Chapter 9. Constructing A Responsive User Interface</A
></H1
><P
><I
CLASS="emphasis"
>by David Sweet</I
></P
><DIV
CLASS="highlights"
><A
NAME="AEN13363"
></A
><P
><B
>In this chapter</B
></P
><UL
COMPACT="COMPACT"
><LI
STYLE="list-style-type: disc"
><P
><I
CLASS="emphasis"
><A
HREF="ch09.html#ch09lev1sec1"
>The Importance of Responsiveness</A
></I
></P
></LI
><LI
STYLE="list-style-type: disc"
><P
><I
CLASS="emphasis"
><A
HREF="ch09lev1sec2.html"
>Speeding Up Window Updates</A
></I
></P
></LI
><LI
STYLE="list-style-type: disc"
><P
><I
CLASS="emphasis"
><A
HREF="ch09lev1sec3.html"
>Performing Long Jobs</A
></I
></P
></LI
></UL
></DIV
><P
>All too often, you have probably used GUI applications that fail to repaint their windows, leaving an empty, or partially empty frame on the screen, or you have used an application that begins a task and ignores you until it is done&#8212;not knowing if you preferred to abort the task rather than wait. In general, many applications&#8212;even popular, regularly used applications&#8212;at times provide no feedback or do not respond to user input. In this chapter you learn how to avoid writing code that behaves so poorly.</P
><P
>The methods presented in this chapter are not the only relevant ones. In particular, multithreading is continually gaining popularity as a way of separating GUI code from <SPAN
CLASS="QUOTE"
>"back-end"</SPAN
> work code. Qt is not currently thread-safe (thus, neither is KDE), but there are ways around this problem. Multithreading is beyond the scope of this book, but useful discussion of the subject exists in the <TT
CLASS="literal"
>qt-interest</TT
> mailing-list archive at <A
HREF="http://www.troll.no/qt-interest/"
TARGET="_top"
>http://www.troll.no/qt-interest/</A
>.</P
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H1
CLASS="section"
><A
NAME="ch09lev1sec1"
>9.1. The Importance of Responsiveness</A
></H1
><P
>Your application's interface needs to be constructed so that the user</P
><UL
COMPACT="COMPACT"
><LI
STYLE="list-style-type: disc"
><P
>Knows the current state of the application</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>Knows whether a command given to the application has been received</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>Knows that the application is working on a task and not simply <SPAN
CLASS="QUOTE"
>"hung"</SPAN
></P
></LI
><LI
STYLE="list-style-type: disc"
><P
>Can always control the flow of the program</P
></LI
></UL
><P
>It is generally simpler to think linearly about the functions your applications need to perform. Many of you may be intimately familiar with this style of programming from writing command-line interface programs. When writing for a GUI, of course, things are different. Your application needs to always be aware of the user interface&#8212;even while it is performing other tasks. Essentially, your application needs to perform rudimentary multitasking to keep the UI alive while still doing useful work.</P
><P
>To get a feel for the importance of a responsive UI, let's look at some common problems GUI application programmers come across (but don't always solve!).</P
><P
>Some windows can take a long time to repaint. During the repainting, the application gives no CPU cycles to the UI, and the user has to wait for the window to be completely updated before any mouse clicks or key presses are processed. Slow updates at best make the UI seem sluggish and at worst make the application unusable. Imagine if an automobile responded in a similar way: You turn the steering wheel and after a half-second or so, the wheels respond. This car would be quite difficult to control!</P
><P
>A similar problem occurs when your application must perform long jobs, such as connecting to another computer, searching a database, or filtering an image. It is tempting to write a method that performs the entire task and then returns, perhaps updating the display with the results of the computation, but the user will not be able to interact with your application, so the following problems occur:</P
><UL
COMPACT="COMPACT"
><LI
STYLE="list-style-type: disc"
><P
>The user cannot cancel the long job.</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>The application's windows will not get repainted. (They may need to be repainted if, for example, another window is dragged over them.)</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>The user cannot take advantage of other features of your application that might logically still be usable while the long job progresses.</P
></LI
></UL
><P
>Of course, while performing a long task, you should also let the user know that the task is progressing so that the user knows the application is working as expected. You should periodically update a window with a progress bar or something similar.</P
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch09lev1sec1"/></TD
></TR
><ANNOTATION
NAME="ch09lev1sec1"
TITLE="The Importance of Responsiveness"/></TABLE
></DIV
></DIV
><DIV
ALIGN="RIGHT"
CLASS="NAVBAR"
><P
><A
HREF="ch08lev1sec9.html"
>Prev</A
> <A
HREF="ch09lev1sec2.html"
>Next</A
> <A
HREF="index.html"
>Table of Contents</A
></P
></DIV
><HR
WIDTH="100%"
SIZE="2"
ALIGN="CENTER"
NOSHADE="NOSHADE"/></BODY
></HTML
>