<bookinfo>
<title>KDE 2.0 Development</title>
<date></date>
<releaseinfo></releaseinfo>
<author>
<firstname>David</firstname>
<othername>Sweet,</othername>
<surname>et al.</surname>
</author>
<copyright>
<year>2001</year>
<holder>Sams Publishing</holder>
</copyright>
<publisher>
<publishername><emphasis role="strong">SAMS</emphasis></publishername>
<address>
<street>201 West 103rd St.,</street>
<city>Indianapolis,</city>
<state>Indiana,</state>
<postcode>46290</postcode>
<country>USA</country>
</address>
</publisher>
<legalnotice>
<para>This material may be distributed only subject to the terms and conditions set forth in the Open Publication License, v1.0 or later (the latest version is presently available at <ulink url="http://www.opencontent.org/openpub/">http://www.opencontent.org/openpub/</ulink>).</para>
<para>Distribution of the work or derivative of the work in any standard (paper) book form is prohibited unless prior permission is obtained from the copyright holder.</para>
<para>No patent liability is assumed with respect to the use of the information contained herein. Although every precaution has been taken in the preparation of this book, the publisher and author assume no responsibility for errors or omissions. Neither is any liability assumed for damages resulting from the use of the information contained herein.</para>
</legalnotice>
<isbn>0-672-31891-1</isbn>
<legalnotice>
<para>Library of Congress Catalog Card Number: 99-067972</para>
<para><emphasis>Printed in the United States of America</emphasis></para>
<para>First Printing: October 2000</para>
<para>03    02    01    00        4    3    2    1</para>
</legalnotice>
<legalnotice>
<title>Trademarks</title>
<para>All terms mentioned in this book that are known to be trademarks or service marks have been appropriately capitalized. Sams Publishing cannot attest to the accuracy of this information. Use of a term in this book should not be regarded as affecting the validity of any trademark or service mark.</para>
</legalnotice>
<legalnotice>
<title>Warning and Disclaimer</title>
<para>Every effort has been made to make this book as complete and as accurate as possible, but no warranty or fitness is implied. The information provided is on an <quote>as is</quote> basis. The authors and the publisher shall have neither liability nor responsibility to any person or entity with respect to any loss or damages arising from the information contained in this book.</para>
</legalnotice>
<abstract><para></para></abstract>
<keywordset><keyword>KDE</keyword></keywordset>
</bookinfo>

<preface id="preface">
<title>Foreword</title>
<para>With KDE, a UNIX dream came true&mdash;a friendly, graphical environment for the user and a sophisticated application development framework for the developer. Well, to be perfectly precise, it didn't just come true. There is not much point in the free software world just waiting for something. Ultimately, somebody has to sit down and write the code. And many people did exactly this, in hundreds of thousands of uncounted hours during their spare time. This makes KDE even more interesting. It's a user environment created by users of this environment and a development framework written by developers, who wished they had found such a framework when they discovered UNIX themselves.</para>
<para>People tend to think of KDE as the flashy icons, the fancy window decorations, or the startup panel, but that's not the whole truth. The bigger and more important part of KDE is the framework&mdash;a framework that is powerful enough to create a customizable meta application such as Konqueror, with all its plug-ins for various mime types.</para>
<para>If you think KDE 1.x was the definite proof that it was possible to create such a framework based on the idea of shared code and voluntary work (nobody argues this today, but very few people&mdash;especially in the free software community&mdash;believed it back when KDE was started), then KDE 2.0 is supposed to become the masterpiece. Backed up by a stable, maintained, and highly appreciated KDE 1.x, the KDE team undertook the major effort to redesign big parts of the framework to reflect all the things learned from the first approach. Although software architects may criticize this <quote>second system syndrome,</quote> it was indeed a time of big experiments&mdash;and the release date was more and more delayed. The most obvious example was the pervasive use of CORBA (Common Object Request Broker Architecture). After basing all interclient communication on CORBA for almost a year, we had to learn the hard way that it simply did not work out for our purposes. Although the architectural change from CORBA to KParts/DCOP might have delayed the release again, we believe it was worth the wait.</para>
<para>We can safely assume that many of the older and partially retired KDE developers will look back and dream of all the exciting applications they could have written during their active free-software hacking phases if they had had this new framework back then. Please enjoy the privilege of being able to write applications on UNIX without having to reinvent the wheel first.</para>
<para>Whenever you discover something you think could be done better or something that simply is missing, please consider joining the KDE team to fix the issue. Your help will be highly welcomed and appreciated.</para>
<para><emphasis>Oslo, 5 June 2000</emphasis></para>
<para><emphasis>Matthias Ettrich</emphasis></para>
<section id="frm14">
<title>Lead Author</title>
<para><citetitle>David Sweet</citetitle> <ulink url="http://www.andamooka.org/~dsweet">(http://www.andamooka.org/~dsweet)</ulink> has just earned his Ph.D. in Physics from the University of Maryland for pioneering work with Christmas tree ornaments (see the cover of <emphasis>Nature</emphasis>, May 27, 1999). Concurrently, he has been writing bits of free software, an article about KDE programming in <emphasis>Linux Journal</emphasis>, several chapters of <emphasis>Special Edition Using KDE</emphasis>, and this book.</para>
</section>
<section id="frm15">
<title>Contributing Authors</title>
<para><emphasis role="strong">David Faure</emphasis> is a French KDE Developer (now living in the U.K.) working for MandrakeSoft. He maintains the file manager (Konqueror) and works on the KDE libraries (component technology and network transparency) and the KOffice framework. David wrote a series of articles on KDE programming for Linux Magazine France.</para>
<para><emphasis role="strong">Kurt Granroth</emphasis> is a KDE Core member, developer, and evangelist and has been addicted to KDE since being introduced to it two years ago. He started out with the <quote>gateway</quote> apps, such as KBiff and KAppTemplate, but soon moved into the <quote>hard</quote> stuff&mdash;the base KDE libraries and applications. He dives daily into a veritable soup of acronyms such as <quote>XML-UI GUI infrastructure</quote> and <quote>XML-RPC to DCOP gateway.</quote> Now, the SuSE Labs pay Kurt to feed his habit of working on KDE nearly every waking hour by employing him as a full-time Open Source developer. Those hours that aren't spent on KDE are covered by his wife and daughter in their Phoenix, Arizona home. He can always be reached at <literal><email>granroth@kde.org</email></literal> and <ulink url="http://www.granroth.org">http://www.granroth.org</ulink>.</para>
<para><emphasis role="strong">Daniel Marjam&auml;ki</emphasis> mainly contributes to the KDE project by writing documents for KDE programmers, and his current project is a dynamic KDE programming tutorial. Daniel lives in Sweden, in a small town called Sk&auml;vde. Daniel loves programming with all his heart and is a student at the University of Sk&auml;vde, where he studies computers and electronics.</para>
<para><emphasis role="strong">Ralf Nolden</emphasis> was born on January 30, 1973 in Mayen, Germany. In 1996 he began his studies to become an electrotechnical engineer at the Technical University of Aachen, Germany, and there began work with UNIX Systems as well as KDE. Ralf has been involved with the KDevelop project since its inception in 1998. Since then, he's coded on the KDevelop IDE itself, written the handbooks, and helped in customer support online. He also gives presentations of KDevelop at IT conventions. He's involved in porting KDE to SCO's UnixWare7 Operating System and wants to move to the United States after he has finished his diploma at the university.</para>
<para><emphasis role="strong">Charles Samuels</emphasis> has been known to code too much and has accepted that it is difficult to get him to stop. His actual existence has been questioned, but he claims to be a student living in San Jose, CA. Charles is an active KDE user and developer&mdash;working on KNotify and konv and intends to turn his hobby into a career.</para>
<para><emphasis role="strong">Espen Sand</emphasis> received a MSc. degree in electrical engineering (micro electronics design) at the Norwegian Institute of Technology (NTH) in 1995 and is employed as a research scientist at Norsk Elektro Optikk A/S, a Norwegian R/D firm. Espen's involvement with the KDE project began in late 1998. He has designed and developed the next generation KDE hex editor and participated in improving user-interface library (kdeui) elements such as the KDialogBase and KJanusWidget classes. He made the standard <quote>About KDE</quote> dialog and enjoys improving software whenever needed.</para>
<para><emphasis role="strong">Cristian Tibirna</emphasis>'s main contributions to KDE include developing a smart window placement algorithm and magnetic borders algorithm in a window manager, collaborating on the graphical effects engines, maintaining the international keyboard applet, and making tiny code adjustments in many parts of the KDE source code base. He's a contributor to news and how-to-help pages on the KDE main Web site, a member of the Core Team, and an official representative for Canada. Cristian is a chemical engineering Ph.D. student in his last months of studies. He's specializing in high-level numerical simulation techniques. Cristian has a strong interest in object-oriented programming and finds that his hobby, KDE, is a particularly interesting field of application for it. Cristian has also a great <quote>real-world</quote> passion: his son and his wife. They are both happy KDE testers and they finally learned to accept Cristian's endless hours on his computers.</para>
<para><emphasis role="strong">Stefan Westerfeld</emphasis> is the main developer of the KDE 2.0 multimedia technology. He started loving UNIX-like operating systems at the age of 16, when he used one to write his own BBS system in C++; he then ran a BBS for a few years on it. After that, he worked on a commercial medical imaging application with some real-time requirements. But the preferred program he wrote is aRts, a free modular real-time synthesizer, which is also the base for the KDE multimedia work he is doing. Besides programming, he is studying computer science and philosophy.</para>
</section>
<section id="frm16">
<title>Acknowledgments</title>
<para>I would like to thank all the contributing authors who have shared with the readers expertise and insight that has come from having worked with the subject matter for countless hours and in many cases, having invented it! And I'd like to thank Kurt Granroth for technical editing this book. His comments and expertise were invaluable.</para>
<para>In <link linkend="ch03">Chapter 3</link>, Daniel Marjam&auml;ki introduces us to Qt, the GUI toolkit on which KDE is built.</para>
<para>Charles Bar-Joseph explains, in <link linkend="ch06">Chapter 6</link>, the KDE user-interface conventions.</para>
<para>Espen Sand teaches us, in <link linkend="ch08">Chapter 8</link>, how to create KDE dialog boxes using the convenient <literal>KDialogBase</literal>.</para>
<para>Cristian Tibirna guides us through a new KDE feature: DCOP, the Desktop Communications protocol.</para>
<para>David Faure, in <link linkend="ch12">Chapter 12</link>, explains KParts, an exciting and important technology new to KDE 2.0.</para>
<para>Stefan Westerfeld teaches us how to develop for his Analog Realtime Synthesizer (aRts), which is also the KDE 2.0 sound system, in <link linkend="ch14">Chapter 14</link>.</para>
<para>Ralf Nolden shares his penchant for writing documentation in his introduction to KDevelop, a KDE Integrated Development Environment.</para>
<para>Kurt Granroth clarifies the oft-discussed KDE/Qt licensing issues in <link linkend="ch19">Chapter 19</link>.</para>
<para>I would also like to thank Heather Goodell and many others at Sams Publishing for their hard work, patience, and continuing positive attitude. In particular, Shelley Johnston has put in much extra effort to do The Right Thing by having this book published under an Open Source license, the Open Publication License.</para>
<para><emphasis>David Sweet</emphasis></para>
</section>
<section id="frm17">
<title>Tell Us What You Think!</title>
<para>As the reader of this book, <emphasis>you</emphasis> are our most important critic and commentator. We value your opinion and want to know what we're doing right, what we could do better, what areas you'd like to see us publish in, and any other words of wisdom you're willing to pass our way.</para>
<para>As an Associate Publisher for Sams Publishing, I welcome your comments. You can fax, email, or write me directly to let me know what you did or didn't like about this book&mdash;as well as what we can do to make our books stronger.</para>
<para><emphasis>Please note that I cannot help you with technical problems related to the topic of this book, and that because of the high volume of mail I receive, I might not be able to reply to every message.</emphasis></para>
<para>When you write, please be sure to include this book's title and authors as well as your name and phone or fax number. I will carefully review your comments and share them with the author and editors who worked on the book.</para>
<informaltable frame="none">
<tgroup cols="2" colsep="0" rowsep="0" align="left">
<colspec colname="c1"/>
<colspec colname="c2"/>
<tbody valign="top">
<row>
<entry>Fax:</entry>
<entry>317-581-4770</entry>
</row>
<row>
<entry>Email:</entry>
<entry><literal><email>linux-programming@macmillanusa.com</email></literal></entry>
</row>
<row>
<entry>Mail:</entry>
<entry>
<literallayout>
Michael Stephens
Associate Publisher
Sams Publishing
201 West 103rd Street
Indianapolis, IN 46290 USA
</literallayout>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
</preface>
<preface>
<title>Introduction</title>
<para>The K Desktop Environment (KDE) project is a worldwide collaboration of hundreds of software engineers and hobbyists who are working to create a free, modern desktop interface with a consistent graphical user interface (GUI) style across applications. The desktop is network transparent, meaning that remote and local files can all be viewed, edited, and managed in the same way; it has online hypertext help and features an integrated, full-featured Web browser. The purpose of this book is to teach you how to take advantage of all that the KDE libraries have to offer when you write your own applications.</para>
<section id="frm18">
<title>Prerequisites</title>
<para>The authors of this book assume that you already know C++ at the beginner level or better. Some familiarity with event-driven GUI programming would be beneficial, although it is not necessary. If you are new to UNIX-style operating systems (such as Linux), you should probably have a book about them on hand. You will need to know enough about UNIX to understand how to compile and install software using the <literal>make</literal> utility (although some instructions are provided).</para>
</section>
<section id="frm19">
<title>About the Open Publication License</title>
<para>Sams Publishing is releasing this book under the Open Publication License (see <ulink url="http://www.opencontent.org">http://www.opencontent.org</ulink> for details) so that the text provided herein will be freely available to KDE developers and potential developers. If you are familiar with the GPL, you can think of the OPL as a <quote>GPL for books</quote>.</para>
<para>The text will be posted on the World Wide Web at <ulink url="http://www.samspublishing.com">http://www.samspublishing.com</ulink> and on the KDE Developer's Corner at <ulink url="http://developer.kde.org">http://developer.kde.org</ulink>.</para>
<para>Because the Open Publication License allows licensed work to be modified and redistributed electronically, we can also provide the full text of this book online at <ulink url="http://kde20development.andamooka.org">http://kde20development.andamooka.org</ulink>. In addition, you will be able to participate in a community annotation of the book and discuss issues related to KDE and KDE development with other readers. This collected, organized wisdom and experience of the entire reader community will be continuously available to every reader. We hope that, as the underlying technology changes, this system will keep KDE 2.0 Development a correct, current, and complete source of KDE development information.</para>
</section>
<section id="frm20">
<title>Organization of This Book</title>
<para>This book is divided into five parts:</para>
<itemizedlist mark="none" spacing="compact">
<listitem><para><link linkend="p01">Part I</link>: Fundamentals of KDE Application Programming</para></listitem>
<listitem><para><link linkend="p02">Part II</link>: Advanced KDE Widgets and UI Design Techniques</para></listitem>
<listitem><para><link linkend="p03">Part III</link>: Application Interaction and Integration</para></listitem>
<listitem><para><link linkend="p04">Part IV</link>: Developer Tools and Support</para></listitem>
<listitem><para><link linkend="p05">Part V</link>: Appendixes</para></listitem></itemizedlist>
<para>Each part contains several related chapters. After reading the first part, you should feel comfortable reading the other four parts in any order. This type of organization should allow you to create a working KDE application quickly and refine it or add more advanced KDE features to it at your own pace. For example, the techniques presented in <link linkend="ch09">Chapter 9, <quote>Constructing a Responsive User Interface,</quote></link> are not needed to create a working application, but they are often needed to create a <emphasis>good</emphasis>, working application. Similarly, <link linkend="ch15">Chapter 15, <quote>Multimedia,</quote></link> explains how to play sound and video with KDE. To most applications, sound is not essential, but it may be incorporated to give the user more feedback after the main application functions are implemented.</para>
<para><link linkend="p04">Part IV, <quote>Developer Tools and Support,</quote></link> discusses tasks that you may wish to perform that are not directly required for application development, such as creating documentation, packaging your application for distribution, and using an Integrated Development Environment.</para>
</section>
<section id="frm21">
<title>Conventions Used in This Book</title>
<para>All text that relates to code or class names that you'll use in code are shown in a <literal>monospaced</literal> computer font.</para>
<para>Placeholders appear in an <emphasis><literal>italic computer</literal></emphasis> typeface. Replace the placeholder with the actual filename, parameter, or whatever element it represents.</para>
</section>
<section id="frm22">
<title>Time to Develop!</title>
<para>In an article in Linux Journal (February, 2000), Eric S. Raymond says that the next market to be entered (perhaps conquered?) by Linux is the desktop users market. In this author's opinion, KDE is the clear choice for taking Linux to this market. KDE 2.0 delivers a mature, robust, feature-rich set of desktop applications and utilities, including an office suite, KOffice. This suite fills a long-lasting void in the Linux free software world that has been crucial to keeping Linux off of many desktops.</para>
<para>I suspect you'll find that programming with KDE will give you a much larger audience for your applications, will result in decreased development time, and will provide hours of enjoyment. I hope that this book will add to the enjoyment.</para>
<para>Good luck with KDE. You are doing The Right Thing ;).</para>
</section>
</preface>
