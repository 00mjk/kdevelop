<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Internationalization</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"/><LINK
REL="HOME"
TITLE="KDE 2.0 Development"
HREF="index.html"/><LINK
REL="UP"
TITLE="KDE Style Reference"
HREF="ch06.html"/><LINK
REL="PREVIOUS"
TITLE="The Standard KDE Icons"
HREF="ch06lev1sec3.html"/><LINK
REL="NEXT"
TITLE="Playing Sounds"
HREF="ch06lev1sec5.html"/><META
HTTP-EQUIV="Content-Style-Type"
CONTENT="text/css"/><LINK
REL="stylesheet"
HREF="kde-common.css"
TYPE="text/css"/><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=iso-8859-1"/><META
HTTP-EQUIV="Content-Language"
CONTENT="en"/><LINK
REL="stylesheet"
HREF="kde-localised.css"
TYPE="text/css"
TITLE="KDE-English"/><LINK
REL="stylesheet"
HREF="kde-default.css"
TYPE="text/css"
TITLE="KDE-Default"/></HEAD
><BODY
CLASS="section"
LINK="#336699"
VLINK="#336699"
ALINK="#336699"
BGCOLOR="#FFFFFF"
><DIV
ALIGN="RIGHT"
CLASS="NAVBAR"
><P
><A
HREF="ch06lev1sec3.html"
>Prev</A
> <A
HREF="ch06lev1sec5.html"
>Next</A
> <A
HREF="index.html"
>Table of Contents</A
></P
></DIV
><DIV
CLASS="section"
><TABLE
WIDTH="100%"
CELLPADDING="0"
CELLSPACING="0"
BORDER="0"
ALIGN="CENTER"
><TR
><TD
WIDTH="90%"
><H1
CLASS="section"
><A
NAME="ch06lev1sec4"
>6.4. Internationalization</A
></H1
><P
>KDE is an international product and, as such, supports multiple languages. This is accomplished very easily, with calls to the function <TT
CLASS="literal"
>i18n()</TT
>. This function accepts a string and returns the translated string. The default language is English. You also do not need to translate internal messages. Likewise, all messages that end up with the user should be translated. This includes error messages, dialog and menubar titles, tooltips, and so on.</P
><P
>Generally, the syntax is <TT
CLASS="literal"
>i18n</TT
> (<TT
CLASS="literal"
>"</TT
><I
CLASS="emphasis"
><TT
CLASS="literal"
>My String</TT
></I
><TT
CLASS="literal"
>"</TT
>);</P
><P
>When your locale is set to <TT
CLASS="literal"
>en</TT
> (for English), the preceding is equivalent to <TT
CLASS="literal"
>"</TT
><I
CLASS="emphasis"
><TT
CLASS="literal"
>My String</TT
></I
><TT
CLASS="literal"
>"</TT
>.</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;new QListViewItem(listview, "Item Number Six");
   3&nbsp;  // Wrong!
   4&nbsp;new QListViewItem(listview, i18n("Item Number Six"));
   5&nbsp;  // Right!
   6&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>This should be your course of action, even if you do not plan on internationalizing your software. Another person may volunteer, and increasing your audience is always a good thing.</P
><DIV
CLASS="note"
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="note.png"
HSPACE="5"
ALT="Note"/></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Don't try to create garbled messages with <TT
CLASS="literal"
>i18n</TT
>:</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;i18n("Couldn't open " + file + ", please check the path and try again.");
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>Translating such messages into other languages will not work very well, when word order issues come into play. A better idea is:</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;i18n("Couldn't open %1, please check the path and try again.").arg(file);
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
></TD
></TR
></TABLE
></DIV
><P
>When you think your program is ready for translation, you can pick up a tool such as KBabel, create the proper message files, and include them with your application.</P
><P
>Remember to also translate documentation files.</P
><P
>Another source for information on the subject can be found at the KDE Translator's and Documenter's Web site: <A
HREF="http://i18n.kde.org"
TARGET="_top"
>http://i18n.kde.org</A
>.</P
><P
>Translation files (*.po), which can be generated with KBabel, are generally placed in the po/ directory of your package. Those .po files are produced by running the following:</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp; xgettext -C -ki18n -kI18N_NOOP \ktranslate -x$KDEDIR/include/kde.pot *.cpp
   3&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
><P
>The program xgettext should be provided by the gettext package.</P
><P
>After the po file is produced, move it to the proper directory and open it in KBabel. Your file hierarchy should look like this:</P
><DIV
CLASS="informalexample"
><HR/><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>   1&nbsp;
   2&nbsp;appname
   3&nbsp;  po
   4&nbsp;    fr
   5&nbsp;    de
   6&nbsp;    [&#8230;]
   7&nbsp;  doc
   8&nbsp;    fr
   9&nbsp;    de
  10&nbsp;    en
  11&nbsp;    [&#8230;]
  12&nbsp;  src
  13&nbsp;</PRE
></TD
></TR
></TABLE
><HR/></DIV
></TD
><TD
WIDTH="10%"
VALIGN="BOTTOM"
ALIGN="CENTER"
><ANNMARK
NAME="ch06lev1sec4"/></TD
></TR
><ANNOTATION
NAME="ch06lev1sec4"
TITLE="Internationalization"/></TABLE
></DIV
><DIV
ALIGN="RIGHT"
CLASS="NAVBAR"
><P
><A
HREF="ch06lev1sec3.html"
>Prev</A
> <A
HREF="ch06lev1sec5.html"
>Next</A
> <A
HREF="index.html"
>Table of Contents</A
></P
></DIV
><HR
WIDTH="100%"
SIZE="2"
ALIGN="CENTER"
NOSHADE="NOSHADE"/></BODY
></HTML
>