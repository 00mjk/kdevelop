<chapter label="1" role="chapter" id="ch01">
<title>The K Desktop Environment Background</title>
<para><emphasis>by David Sweet</emphasis></para>
<highlights>
<itemizedlist mark="bullet" spacing="compact">
<title>In This Chapter</title>
<listitem><para><emphasis role="strong"><link linkend="ch01lev1sec1">Motivation for a Free Desktop</link></emphasis></para></listitem>
<listitem><para><emphasis role="strong"><link linkend="ch01lev1sec2">Why Develop with KDE?</link></emphasis></para></listitem>
<listitem><para><emphasis role="strong"><link linkend="ch01lev1sec3">KDE Organization and Resources</link></emphasis></para></listitem>
<listitem><para><emphasis role="strong"><link linkend="ch01lev1sec4">System Requirements</link></emphasis></para></listitem>
<listitem><para><emphasis role="strong"><link linkend="ch01lev1sec5">Obtaining and Installing KDE</link></emphasis></para></listitem>
<listitem><para><emphasis role="strong"><link linkend="ch01lev1sec6">Licenses and Legalities</link></emphasis></para></listitem>
<listitem><para><emphasis role="strong"><link linkend="ch01lev1sec7">Let's Code, Already!</link></emphasis></para></listitem>
</itemizedlist></highlights>
<para>Before<indexterm><primary>KDE</primary><secondary>(overview of)</secondary></indexterm> I begin discussing programming, you should get to know a little bit about KDE: its motivation, goals, and the reasons for its appeal. You'll also need to install the programming libraries and documentation.</para>
<section id="ch01lev1sec1">
<title>Motivation for a Free Desktop</title>
<para>If <indexterm><primary>KDE</primary><secondary>advantages</secondary></indexterm>you are a UNIX (or Linux, FreeBSD, and so on) user, you most likely are familiar with the look and feel of a typical (non-KDE) X desktop. The window decorations (window borders, minimize, maximize, close buttons, and so on) and the various programs that live in those windows are typically drawn in different styles and operate differently. For example, the image display and manipulation program <literal>display</literal>, part of the ImageMagik distribution, uses pull-down menus and buttons that look and operate very differently from those used by the popular PostScript preview program <literal>gv</literal>.</para>
<para>The pull-down menus in display are organized into a vertical list of headings in a separate window from the image being viewed, whereas the menus in <literal>gv</literal> are shown horizontally above and in the same window as the PostScript document, and there are other differences. These types of inconsistencies abound and make it more difficult to learn new X-based programs. If each application used the same widgets (the basic elements of the GUI, such as buttons, scrollbars, and menubars), window layout (that is, menubar at the top), and so on, the user would need only learn application-specific functions when starting to work with a new application. That is, the user would learn the interface once and could transfer that knowledge to all new applications.<indexterm><primary>KDE</primary><secondary>advantages</secondary></indexterm></para>
<para>When the K Desktop Environment (KDE) project began in October 1996, a standard existed&mdash;the Common Desktop Environment (CDE)<indexterm><primary>CDE (Common Desktop Environment)</primary></indexterm><indexterm><primary>Common Desktop Environment (CDE)</primary></indexterm>, which was based on the Motif widget set&mdash;that aimed to solve this problem. The main problem with this was that the Motif widget set was expensive, and thus not appropriate for free software developers (indeed, many of the popular UNIX programs are freely developed). The KDE founder, Matthias Ettrich<indexterm><primary>Ettrich, Matthias</primary></indexterm>, saw that a free desktop could be developed by combining Qt, a well-constructed widget set developed by TrollTech of Norway, with the General Public License (GPL) source code of many free software applications. If the applications were all ported to the Qt widget set according to some set of UI guidelines, users of KDE would have a desktop that contained the usual, expected functionality but also had the comfortable feel of a uniform user interface. This plan was taken a step further by adding a desktop file manager/Web browser and a panel (inspired by the CDE, Windows 95, and OS/2 panels) for launching applications.<indexterm><primary>KDE</primary><secondary>advantages</secondary></indexterm></para>
</section>
<section id="ch01lev1sec2">
<title>Why Develop with KDE?</title>
<para>I'll<indexterm><primary>KDE</primary><secondary>advantages</secondary></indexterm> give you three good reasons:</para>
<itemizedlist mark="bullet" spacing="compact">
<listitem><para>It's free (for free software development).</para></listitem>
<listitem><para>It works very well.</para></listitem>
<listitem><para>Your application can build on a collection of powerful, developer-friendly widgets that range in function from a simple text label to a full-fledged Java- and JavaScript-enabled HTML 4.0-compliant Web browser, component (or embedding) routines, and Internet access classes that make your application network transparent.</para></listitem>
</itemizedlist>
<para>Because KDE is a popular free software project, you'll find it distributed<indexterm><primary>KDE</primary><secondary>distributions</secondary></indexterm><indexterm><primary>distributions (KDE)</primary></indexterm> with most Linux distributions, including Red Hat, SuSE, and Corel. You can always download the latest stable alpha and beta versions for free and download the up-to-the-minute (roughly) development code so that you can keep your application up-to-date and take advantage of new features as they become available.</para>
<para>KDE works so well because the open development model encourages submission of bug reports and patches and attracts skilled developers. KDE 1.1 was declared Innovation of the Year at CeBIT '99, the world's largest computer show and, in the same year, won <emphasis>LinuxWorld's</emphasis> Editor's Choice award in the Desktop Environment category.</para>
<para>The KDE <indexterm><primary>libraries</primary></indexterm>libraries offer services that help developers maintain the level of sophistication expected of modern desktop applications. Classes offer network access via HTTP, FTP, and other protocols, drag-and-drop between applications, interprocess communication, and internationalization and localization functions.</para>
<para>The large collection of <indexterm><primary>widgets</primary></indexterm>widgets in the KDE and Qt libraries, implemented in C++ classes, are well designed and functional. Because they are implemented in C++ classes, they can be subclassed to modify or extend their behavior. The widgets provide most of the KDE look and feel so that you can spend more time working on the functions that make your application unique. The Qt signal/slot mechanism (described in <link linkend="ch03">Chapter 3, <quote>The Qt Toolkit</quote></link>), which is a convenient alternative to C-style callback functions, allows you to quickly <quote>wire together</quote> widgets to create a GUI. The libraries also include utility classes to handle strings, linked lists, and other data structures, sockets programming, interprocess communication, as well as complex- function widgets, such as a desktopwide address book and a Web browser.<indexterm><primary>KDE</primary><secondary>advantages</secondary></indexterm></para>
<para>The KDE libraries also include a framework for application embedding (called KParts)<indexterm><primary>KParts</primary></indexterm> that allows you to easily add the functionality of an entire application to your program. (This is similar in concept to Netscape Navigator plugins.) The KDE office suite, KOffice, uses the concept of application embedding to create documents that can contain text, graphics, spreadsheets, and other elements that all display on the same page and can be edited in place.</para>
<para>Finally, KDE provides the means for creating applications that are <quote>network transparent</quote>. This means that users can open and save files from and to remote and local locations using the familiar techniques (i.e., selecting Open or Save from the File menu).</para>
<para>The<indexterm><primary>network transparency</primary></indexterm> network transparency theme runs through all of KDE, in fact. The <quote>file manager</quote> (this term doesn't do the application justice!), Konqueror<indexterm><primary>Konqueror</primary></indexterm><indexterm><primary>file manager</primary><see>Konqueror</see></indexterm>, is the perfect example: In its window you can browse and manipulate local files, FTP sites, and HTTP directory listings using the same, familiar, file/folder metaphor. Using the KDE libraries for you application will allow you to easily implement the following scenario for example: A user drags a file from a Konqueror view of a remote, personal directory being accessed via FTP to your application. He/she edits the file and then presses Ctrl+S (the save command) and the file is automatically transferred back to its original location via FTP.</para>
<para>The KDE classes are well documented and this documentation, along with many tutorials and HOWTOs, is available on the developers' Web site:<indexterm><primary>KDE Developers' Web site</primary></indexterm><indexterm><primary>Web sites</primary><secondary>DKE Developers</secondary></indexterm> <ulink url="http://developer.kde.org">http://developer.kde.org</ulink>. You'll find information on new KDE technologies, GUI design instructions, and programming tutorials. <link linkend="ch01fig01">Figure 1.1</link> shows the home page of this Web site.<indexterm><primary>KDE</primary><secondary>advantages</secondary></indexterm></para>
<figure label="1.1" id="ch01fig01">
<title>The KDE Developer's Corner Web site is a great resource for developers.</title>
<mediaobject>
<imageobject>
<imagedata fileref="graphics/01fig01.gif" format="GIF"/>
</imageobject>
</mediaobject>
</figure>
</section>
<section id="ch01lev1sec3">
<title>KDE Organization and Resources</title>
<para>The <indexterm><primary>KDE</primary><secondary>online resources</secondary></indexterm><indexterm><primary>online resources</primary></indexterm>KDE project is made up of hundreds of developers who have made contributions ranging from small patches to multiple applications. The leadership consists of about 20 core developers who have distinguished themselves within the KDE community by contributing lots of well-written code. They serve to steer the project and plan its release schedule. Also, formal contact with the KDE project can be made with representatives from the core group. The Web page <ulink url="http://ettrich.priv.no/kde_official/representatives.html">http://ettrich.priv.no/kde_official/representatives.html</ulink> has more information.</para>
<para>Current <indexterm><primary>KDE Web site</primary></indexterm><indexterm><primary>Web sites</primary><secondary>KDE</secondary></indexterm>KDE information can always be found at <ulink url="http://www.kde.org">http://www.kde.org</ulink>. From here you can access users and developers' news, find out about new releases, and access the mailing lists and source code repository.</para>
<para>Several<indexterm><primary>mailing lists</primary></indexterm><indexterm><primary>email</primary><secondary>mailing lists</secondary></indexterm> mailing lists are devoted to discussing different aspects of KDE. The KDE developers' list (<literal>kde-devel</literal>)<indexterm><primary>kde-devel mailing list</primary></indexterm> should be of particular interest to you. You'll learn a lot about KDE development by monitoring this list, and you'll have the opportunity to ask your questions to the development community. In my personal experience, the response times have been short and the information has been very helpful. There are also lists for discussing KOffice, the KDE office suite, KDE artwork (icons, logos, and so on), internationalization, KDevelop, the KDE integrated development environment, look and feel, licensing issues, and other topics. A complete list of available mailing lists can be found at the mailing list archives at <ulink url="http://lists.kde.org/">http://lists.kde.org/</ulink>. Subscription information is available at <ulink url="http://www.kde.org/contact.html">http://www.kde.org/contact.html</ulink>.<indexterm><primary>KDE</primary><secondary>online resources</secondary></indexterm><indexterm><primary>online resources</primary></indexterm></para>
</section>
<section id="ch01lev1sec4">
<title>System Requirements</title>
<para>To <indexterm><primary>KDE</primary><secondary>system requirements</secondary></indexterm><indexterm><primary>system requirements (KDE)</primary></indexterm>run KDE, you need a Pentium-class computer running at least 100MHz with at least 32MB of memory. To develop KDE software, however, you should have at least 64MB of memory and at least a 200MHz processor. You will find that a 300MHz processor and 128MB of memory is much more comfortable when compiling the software.</para>
<para>If you plan to run KDE on a lower-end machine, I recommend installing binary files that were compiled elsewhere.<indexterm><primary>KDE</primary><secondary>system requirements</secondary></indexterm><indexterm><primary>system requirements (KDE)</primary></indexterm></para>
</section>
<section id="ch01lev1sec5">
<title>Obtaining and Installing KDE</title>
<para>You <indexterm><primary>KDE</primary><secondary>obtaining</secondary></indexterm><indexterm><primary>obtaining</primary><secondary>KDE</secondary></indexterm>can always find the latest KDE source code and binaries at <ulink url="ftp://ftp.kde.org">ftp://ftp.kde.org</ulink> or one of the more than 100 mirrors (see <ulink url="http://www.kde.org/mirrors.html">http://www.kde.org/mirrors.html</ulink> for a list of mirrors; you are encouraged to use a mirror site located near you.) Additionally, the support Web site for this book, <ulink url="http://www.samspublishing.com">http://www.samspublishing.com</ulink>, contains links to source code and binaries.</para>
<para>To <indexterm><primary>KDE</primary><secondary>installing</secondary></indexterm><indexterm><primary>installing</primary><secondary>KDE</secondary></indexterm>install KDE 2.0 for development, you will need, at minimum, the following packages:</para>
<itemizedlist mark="none" spacing="compact">
<listitem><para><literal>qt-2.1.0</literal>&mdash;The<indexterm><primary>gt-2.1.0 package</primary></indexterm><indexterm><primary>packages</primary><secondary>gt-2.1.0</secondary></indexterm> Qt toolkit library</para></listitem>
<listitem><para><literal>kdesupport</literal>&mdash;<indexterm><primary>kdesupport package</primary></indexterm><indexterm><primary>packages</primary><secondary>kdesupport</secondary></indexterm>Libraries not developed by the KDE project, but needed to run KDE applications</para></listitem>
<listitem><para><literal>kdelibs</literal>&mdash;The <indexterm><primary>kdelibs package</primary></indexterm><indexterm><primary>packages</primary><secondary>kdelibs</secondary></indexterm>KDE libraries</para></listitem>
</itemizedlist>
<para>Be sure to install these packages first and in the order given. The other packages are optional.</para>
<para>For a working desktop, you will also need</para>
<itemizedlist mark="none" spacing="compact">
<listitem><para><literal>kdebase</literal>&mdash;The <indexterm><primary>kdebase package</primary></indexterm><indexterm><primary>packages</primary><secondary>kdebase</secondary></indexterm>window manager (KWin), file manager (Konqueror), panel (Kicker), and other programs needed to create a working desktop</para></listitem>
</itemizedlist>
<para>More KDE applications can be found in</para>
<itemizedlist mark="none" spacing="compact">
<listitem><para><literal>kdeutils</literal>&mdash;KDE<indexterm><primary>kdeutils package</primary></indexterm><indexterm><primary>packages</primary><secondary>kdeutils</secondary></indexterm> utility programs such as <literal>kedit</literal>&mdash;a text editor, and <literal>kcalc</literal>&mdash;a calculator</para></listitem>
<listitem><para><literal>kdegraphics</literal>&mdash;Utility <indexterm><primary>kdegraphics package</primary></indexterm><indexterm><primary>packages</primary><secondary>kdegraphics</secondary></indexterm>programs for viewing image, Postscript, and PDF file and for simple manipulating of bitmapped graphics</para></listitem>
<listitem><para><literal>kdenetwork</literal>&mdash;KDE <indexterm><primary>kdenetwork package</primary></indexterm><indexterm><primary>packages</primary><secondary>kdenetwork</secondary></indexterm>networking utilities, such as <literal>kppp</literal>, an Internet dial-up tool</para></listitem>
<listitem><para><literal>kdegames</literal>&mdash;Some <indexterm><primary>kdegames package</primary></indexterm><indexterm><primary>packages</primary><secondary>kdegames</secondary></indexterm>games for KDE, such as solitaire and mah-jongg</para></listitem>
<listitem><para><literal>kdemultimedia</literal>&mdash;Players<indexterm><primary>kdemultimedia package</primary></indexterm><indexterm><primary>packages</primary><secondary>kdemultimedia</secondary></indexterm> for audio and video files</para></listitem>
<listitem><para><literal>kdeadmin</literal>&mdash;KDE<indexterm><primary>kdeadmin package</primary></indexterm><indexterm><primary>packages</primary><secondary>kdeadmin</secondary></indexterm> administration tools, such as a user information editor (<literal>kuser</literal>) and tools for installing and removing Red Hat and Debian packages (.rpm and .deb)</para></listitem>
<listitem><para><literal>kdei18n</literal>&mdash;<indexterm><primary>kdei18n package</primary></indexterm><indexterm><primary>packages</primary><secondary>kdei18n</secondary></indexterm>Internationalization information for non-English installations<indexterm><primary>KDE</primary><secondary>installing</secondary></indexterm><indexterm><primary>installing</primary><secondary>KDE</secondary></indexterm></para></listitem>
</itemizedlist>
<section id="ch01lev2sec1">
<title>Installing Binary Packages</title>
<para>On <indexterm><primary>KDE</primary><secondary>installing</secondary><tertiary>binary packages</tertiary></indexterm><indexterm><primary>installing</primary><secondary>KDE</secondary><tertiary>binary packages</tertiary></indexterm><indexterm><primary>binary packages</primary><secondary>installing</secondary></indexterm><indexterm><primary>packages</primary><secondary>installing</secondary><tertiary>binary packages</tertiary></indexterm>systems that use the Red Hat package manager, you should install each package using the command</para>
<informalexample>
<programlisting linenumbering="unnumbered">
rpm -Uvh <emphasis>packagename</emphasis>.rpm</programlisting>
</informalexample>
<para>Some RPM-based distributions are Red Hat, SuSE, and Caldera.</para>
<para>Users of the Debian distribution (or a Debian-based distribution, such as Corel Linux) can install packages with</para>
<informalexample>
<programlisting linenumbering="unnumbered">
dkpg -install <emphasis>packagename</emphasis>.deb</programlisting>
</informalexample>
<para>Some binary TAR archive binary packages are also available. They should be installed according to the accompanying documentation.<indexterm><primary>KDE</primary><secondary>installing</secondary><tertiary>binary packages</tertiary></indexterm><indexterm><primary>installing</primary><secondary>KDE</secondary><tertiary>binary packages</tertiary></indexterm><indexterm><primary>binary packages</primary><secondary>installing</secondary></indexterm><indexterm><primary>packages</primary><secondary>installing</secondary><tertiary>binary packages</tertiary></indexterm></para>
</section>
<section id="ch01lev2sec2">
<title>Installing Source Packages</title>
<para>You<indexterm><primary>KDE</primary><secondary>installing</secondary><tertiary>source packages</tertiary></indexterm><indexterm><primary>installing</primary><secondary>KDE</secondary><tertiary>source packages</tertiary></indexterm><indexterm><primary>source packages</primary><secondary>installing</secondary></indexterm><indexterm><primary>packages</primary><secondary>installing</secondary><tertiary>source packages</tertiary></indexterm> may also compile Qt/KDE packages from their source code and install them on your system. All the packages work the following way: first, you need to unpack the package with</para>
<informalexample>
<programlisting linenumbering="unnumbered">
gzip -d packagename.tar.gz
tar -xvf packagename.tar.gz</programlisting>
</informalexample>
<para>This creates a new subdirectory in your current directory called <emphasis>packagename</emphasis>.</para>
<para>Next, to compile the source code for installation in the default locations, type</para>
<informalexample>
<programlisting linenumbering="unnumbered">
cd packagename
./configure
make</programlisting>
</informalexample>
<para>The default locations generally require <literal>root</literal> (superuser) access to the machine on which the code is being installed. You may choose to install in an alternative location by passing the option <literal>&mdash;prefix=</literal><emphasis><literal>newlocation</literal></emphasis> to the <literal>configure</literal> script. For example, I install my Qt and KDE packages in <literal>$HOME/KDE/HEAD</literal>, so I use</para>
<informalexample>
<programlisting linenumbering="unnumbered">
cd packagename
./configure &mdash;prefix=$HOME/KDE/HEAD/qt
make</programlisting>
</informalexample>
<para>when building the Qt library, and</para>
<informalexample>
<programlisting linenumbering="unnumbered">
cd packagename
./configure &mdash;prefix=$HOME/KDE/HEAD/kde &mdash;with-qt-dir=$HOME/KDE/HEAD/qt
make</programlisting>
</informalexample>
<para>when building the KDE library.</para>
<para>To install the compiled code, type</para>
<informalexample>
<programlisting linenumbering="unnumbered">
<emphasis role="strong">make install</emphasis></programlisting>
</informalexample>
<para>You will need to have write permission for the directories in which you have chosen to install Qt/KDE when entering this command. For example, you will (typically) need to log in as <literal>root</literal> before typing <emphasis role="strong"><literal>make install</literal></emphasis> to install in the default locations.<indexterm><primary>KDE</primary><secondary>installing</secondary><tertiary>source packages</tertiary></indexterm><indexterm><primary>installing</primary><secondary>KDE</secondary><tertiary>source packages</tertiary></indexterm><indexterm><primary>source packages</primary><secondary>installing</secondary></indexterm><indexterm><primary>packages</primary><secondary>installing</secondary><tertiary>source packages</tertiary></indexterm></para>
</section>
</section>
<section id="ch01lev1sec6">
<title>Licenses and Legalities</title>

<para>The<indexterm><primary>KDE</primary><secondary>licenses</secondary></indexterm><indexterm><primary>licenses</primary></indexterm><indexterm><primary>legal issues</primary></indexterm> KDE libraries are released under the GNU LGPL, the Library General Public License, and for information on Qt licensing, refer to <link linkend="ch19">Chapter 19, <quote>Licensing Issues.</quote></link></para>
</section>
<section id="ch01lev1sec7">
<title>Let's Code, Already!</title>
<para>KDE should be properly installed on your system before moving on. Most every chapter (and certainly the next one) requires this.</para>
<para>You should now have some understanding of what makes KDE such an exciting project and enticing application development platform. If you're not convinced, read on. Once you see for yourself how powerful and well-organized the libraries are you won't want to develop anywhere else. If you're already convinced, well, read on&mdash;we're going to write our first KDE application in the next chapter!</para>
</section>
</chapter>
